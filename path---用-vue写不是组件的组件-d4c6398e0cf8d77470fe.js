webpackJsonp([28645682302841],{501:function(n,a){n.exports={data:{site:{siteMetadata:{title:"Elvin's Blog",author:"Elvin Ma"}},markdownRemark:{id:"/Users/maxingcong/Code/blog/src/pages/用Vue写不是组件的组件.md absPath of file >>> MarkdownRemark",html:'<p>之前看VueConf，有一个Lightning Talk的内容挺有趣的，基本思路大概就是，Vue组件不一定要用来渲染HTML，或者说用组件这种声明式的写法可以做一些别的事情</p>\n<p>下面提到的在Github上可以找到对应的项目：<a href="https://github.com/posva/vue-motion/">vue-motion</a>、<a href="https://github.com/posva/vue-promised/">vue-promised</a></p>\n<h3>图形/动画组件</h3>\n<p>计算速度变化，绘制SVG动画或者控制音视频</p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Motion</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>g<span class="token punctuation">"</span></span> <span class="token attr-name">:values</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>initValues<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>values<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>y in values<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bars<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n            &lt;rect :x ="y * 10" :y="y" />\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Motion</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Motion</span> <span class="token attr-name">:values</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>targetValue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\t<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sound</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{ value }<span class="token punctuation">"</span></span>\n           <span class="token attr-name">source</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test.mp3<span class="token punctuation">"</span></span>\n           <span class="token attr-name">:rate</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>value<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Motion</span><span class="token punctuation">></span></span></code></pre>\n      </div>\n<p>声明式的Three.js组件</p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Renderer</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Scene</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Camera</span> <span class="token attr-name">:postion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>camPos<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Camera</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Cube</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cube in cubes<span class="token punctuation">"</span></span>\n              <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cube.id<span class="token punctuation">"</span></span>\n              <span class="token attr-name">:position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cube.position<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Ground</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Ground</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Scene</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Renderer</span><span class="token punctuation">></span></span></code></pre>\n      </div>\n<h3>流程组件</h3>\n<p>把promise的三种状态映射到slot上来控制显示逻辑</p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Promised</span> <span class="token attr-name">:promise</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>promise<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pending<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        loading\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fulfilled<span class="token punctuation">"</span></span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>data<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        Success: {{ data }}\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rejected<span class="token punctuation">"</span></span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        Error: {{ error }}\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Promised</span><span class="token punctuation">></span></span></code></pre>\n      </div>\n<p>具体的实现可以去看源码，主要是一些对于 Scoped Slots、Render Function 和 Inject/Provide 的灵活使用，我觉得最厉害的地方还是在于思维的启发性，能够去发现和利用技术的通性</p>',frontmatter:{title:"用D3力导向图做思维导图",tags:["Javascript"],categories:["编程"],date:"November 22, 2018"}}},pathContext:{slug:"/用Vue写不是组件的组件/",previous:{fields:{slug:"/Generator与asyncIterator/"},frontmatter:{path:"/generator-and-async-iterator",title:"Generator与asyncIterator",tags:["Javascript"],categories:["编程"]}},next:{fields:{slug:"/关于敏捷开发/"},frontmatter:{path:"/thoughts-on-agile-development",title:"关于敏捷开发",tags:null,categories:["项目管理"]}}}}}});
//# sourceMappingURL=path---用-vue写不是组件的组件-d4c6398e0cf8d77470fe.js.map