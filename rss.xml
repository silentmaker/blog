<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Elvin's Blog]]></title><description><![CDATA[Elvin's Blog]]></description><link>https://silentmaker.github.io/blog</link><generator>RSS for Node</generator><lastBuildDate>Tue, 26 Feb 2019 04:22:02 GMT</lastBuildDate><item><title><![CDATA[PWA Checklist]]></title><description><![CDATA[PWA]]></description><link>https://silentmaker.github.io/blog/pwa-checklist/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/pwa-checklist/</guid><content:encoded>&lt;h3&gt;PWA&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[关于管理者]]></title><description><![CDATA[不可事必躬亲 疑人不用，用人不疑 注意成长，能做 不等于 只做，失败了 不等于 no more chance]]></description><link>https://silentmaker.github.io/blog/关于管理者/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/关于管理者/</guid><pubDate>Wed, 16 Jan 2019 00:00:00 GMT</pubDate><content:encoded>&lt;ul&gt;
&lt;li&gt;不可事必躬亲&lt;/li&gt;
&lt;li&gt;疑人不用，用人不疑&lt;/li&gt;
&lt;li&gt;注意成长，能做 不等于 只做，失败了 不等于 no more chance&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[关于学习积累的一些思考]]></title><description><![CDATA[…]]></description><link>https://silentmaker.github.io/blog/关于学习和实践/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/关于学习和实践/</guid><pubDate>Mon, 26 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;万丈高楼平地起，莫在浮沙筑高台&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;打好基础&lt;/h3&gt;
&lt;p&gt;不管是学一门编程语言，还是学特定的框架或者库，都得从打好基础开始，而最好的方法就是阅读官方文档和示例代码，甚至源代码。&lt;/p&gt;
&lt;p&gt;如果有些官方文档对初学者不够友好，开始的时候可以适当地采用费曼技巧，先找到一份与你要学习的内容相关的任何资料，可以是某篇技术博客上的文章或者stackoverflow上一某个问题，然后找出里面所有你不知道的概念进行搜索，然后再递归进行这个过程，直到理解大部分的基本概念，这个阶段的学习路径是树状发散的，不需要太钻牛角尖，主要解决Why、What、How的问题，也就是为什么出现这项技术？它能做到什么？是怎么做到的？&lt;/p&gt;
&lt;p&gt;阅读文档时最好同时也自己跑几遍示例代码，也就是英语里喜欢说的『Get your hands dirty.』，做和教最能够巩固已经学习的内容，在过程中体会之前学习的基本概念，以及其这样设计的原因。&lt;/p&gt;
&lt;h3&gt;提升视野&lt;/h3&gt;
&lt;p&gt;看看业界有哪些的做法&lt;/p&gt;
&lt;h3&gt;思考本质&lt;/h3&gt;
&lt;p&gt;软件是一种管理复杂度的系统，社会也是一个系统，为了除低复杂度而引入了分工。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;学而不思则罔，思而不学则殆&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[关于敏捷开发]]></title><description><![CDATA[…]]></description><link>https://silentmaker.github.io/blog/关于敏捷开发/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/关于敏捷开发/</guid><pubDate>Mon, 26 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;从沟通开始&lt;/h3&gt;
&lt;p&gt;一个产品或者产品功能的生命周期，都要经过确定目标、评估方案、落实执行、测试回归和上线运维等步骤，开发的介入其实在第一步的时候就已经可以开始，不过大多时候敏捷模式的团队都不一定会这么做，尽早介入是为了让开发先了解需求的目标，同时可以尽早地开始收集可行方案。&lt;/p&gt;
&lt;p&gt;我在项目中遇到过开发与开发(或者开发与产品)对需求理解不一致的情况，当然就事论事的原因可能会有很多，人的问题要从人的角度出发去解决，关键还是培养人的沟通意识，简单梳理下的话，好的沟通应该是可靠的，及时的，并且是有效的：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;可靠性&lt;/strong&gt;：就好像TCP和UDP的关系，可靠的连接应该是有确认反馈的，英语说就是『I know you know.』，不可靠的沟通只是『I hope you know.』&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;及时性&lt;/strong&gt;：就好像js中的同步操作和异步操作，如果是紧急/重要的工作应该同步执行，而不能只是简单地叫人记得做什么，要及时地反馈进度，而相反地，不紧急/不重要的任务可以记下来以后做/有空再跟进&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;有效性&lt;/strong&gt;：主要在于两点，提前沟通和注重落实，临时插活或者光说不做都是不可取的&lt;/p&gt;
&lt;h3&gt;快速成型&lt;/h3&gt;
&lt;h3&gt;所谓中台建设&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[CDN基础总结]]></title><description><![CDATA[CDN(Content Delivery Network, 内容分发网络) 是用于改善网络性能的一种解决方案 CDN…]]></description><link>https://silentmaker.github.io/blog/CDN基础总结/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/CDN基础总结/</guid><pubDate>Wed, 26 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;CDN(Content Delivery Network, 内容分发网络)&lt;/strong&gt;是用于改善网络性能的一种解决方案&lt;/p&gt;
&lt;h3&gt;CDN解决的问题&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;减少浏览器请求与服务器响应之间的延迟，服务器和用户之间的平均地理距离越大，平均延迟越严重&lt;/li&gt;
&lt;li&gt;提高网站的可用性，即更好的负载处理能力，并减少源站服务器上的带宽压力&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CDN无法解决的问题&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;CDN只是做缓存，对于臃肿的页面优化效果不明显&lt;/li&gt;
&lt;li&gt;全球覆盖一般需要多CDN解决方案，比如2个全球CDN + 本地CDN，因为在一些国家/地区，很多全球CDN只有一个PoP(Point of Presence，存在点)，并不能充分覆盖所有网络用户&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;无需使用CDN的情况&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;流量小且主要用户区域与服务器相近&lt;/li&gt;
&lt;li&gt;页面渲染缓慢/禁用了缓存/体积臃肿(&gt;10M)&lt;/li&gt;
&lt;li&gt;CDN的潜在成本过高&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;选择CDN注意事项&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;要先了解用户的地理分布&lt;/li&gt;
&lt;li&gt;移动设备的性能提升一般低于桌面设备，因为移动设置的网络延迟和带宽才是主要的性能瓶颈&lt;/li&gt;
&lt;li&gt;为了解决由于CDN系统的复杂性可能导致的可用性/稳定性问题，可以选择多CDN解决方案&lt;/li&gt;
&lt;li&gt;有些CDN不支持HTTP/2，有些则不支持高级特性，比如 Stream Priorization / Server Pushing&lt;/li&gt;
&lt;li&gt;权衡不同供应商的成本与性能&lt;/li&gt;
&lt;li&gt;选择合适的业务类型：图片/网页等小文件，文档/软件等大文件，视音频点播，直播流媒体，全站加速&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CDN性能波动的原因&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;某个时间段内的CDN上的流量高并发&lt;/li&gt;
&lt;li&gt;由于跨运营商，寻址错误，BGP路由错误，硬件故障，或服务器缓存容量等问题导致的抖动&lt;/li&gt;
&lt;li&gt;超出了CDN地理覆盖范围&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CDN与FEO&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CDN使内容更靠近用户，可以算是“中端”优化，FEO(Front End Optimization，前端优化)关注的是减少请求数量，减小文体大小，并优化元素加载到浏览器的顺序&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一般FEO的性能提升高于使用CDN，所以要优先或者结合使用&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;使用CDN&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;开通服务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加域名，复制CNAME地址，配置到DNS服务商 &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ping域名验证是否生效 &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CDN效率低的原因（命中率）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;源站设置了no-cache不缓存，命中率为0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在CDN控制台设置了不缓存规则(cache-control=no-cache/no-store/max-age=0/private, Pragma=no-cache, etag/last-modified不存在)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;源站上的必要Header缺失或设置不当&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;url中带有可变参数，则每次都会MISS&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;动态内空居多的情况下，回源也会比较多&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CDN上的刷新操作太频繁&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[事件循环]]></title><description><![CDATA[从最简单的方式开始 通常方法我们会提取到prototype中复用以节约内存 但是这样并没有达到真正私有变量的目的，只是单纯地用了命名惯例而已，于是可以算要用一个闭包才形有私有作用域 但这些多个Person类间的name…]]></description><link>https://silentmaker.github.io/blog/如何实现javascript的私有变量/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/如何实现javascript的私有变量/</guid><pubDate>Wed, 26 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;从最简单的方式开始&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;getName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;通常方法我们会提取到prototype中复用以节约内存&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
Person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;getName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;但是这样并没有达到真正私有变量的目的，只是单纯地用了命名惯例而已，于是可以算要用一个闭包才形有私有作用域&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; Person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; sharedName&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        sharedName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    Person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;getName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; sharedName&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Person&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;但这些多个Person类间的name属性是共用的，可以再做一层改造&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; Person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; privateData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; privateId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;defineProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; privateId&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        privateData&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    Person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;getName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; privaetData&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Person&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;这样的实现就能基本达成目的了，但有两个问题，一个是多余的_id属性，另一个是privateData无法自动释放&lt;/p&gt;
&lt;p&gt;另外还有三种更好的思路，但都有兼容的问题&lt;/p&gt;
&lt;p&gt;一是使用WeakMap的key，它属于弱引用 ，在垃圾回收时不会被计数&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; privates &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WeakMap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// private data&lt;/span&gt;
    privates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
Person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;getName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; privates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Person&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;二是使用Symbol，一量创建后便不会重复&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; privateSymbol &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Symbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;privateSymbol&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
Person&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;getName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;privateSymbol&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Person&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;三是使用ES7还在草案阶段的#private&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    #name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;#name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[常见架构模式笔记]]></title><description><![CDATA[维基百科定义中，架构模式是指：在给定环境中，对常见的软件架构问题的一种通用的、可复用的解决方案，架构模式与设计模式很相似，只是边界范围更明确 Layered Pattern 层级模式 Client-Sever Pattern 客户端-服务端模式 Master-Slave…]]></description><link>https://silentmaker.github.io/blog/常见架构模式笔记/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/常见架构模式笔记/</guid><pubDate>Wed, 22 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;维基百科定义中，架构模式是指：在给定环境中，对常见的软件架构问题的一种通用的、可复用的解决方案，架构模式与设计模式很相似，只是边界范围更明确&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Layered Pattern 层级模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Client-Sever Pattern 客户端-服务端模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Master-Slave Pattern 主从模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pipe-Filter Pattern 管道模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Broker Pattern 经纪人模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Peer-to-Peer Pattern 点对点/对等模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Event-Bus Pattern 事件总线模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Model-View-Controller Pattern 模型-视图-控制器模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Blackboard Pattern 黑板模式&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Interpreter Pattern 拦截器模式&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;层级模式（Layered Pattern）&lt;/h3&gt;
&lt;p&gt;软件架构可以可分解为很多不同的子任务层次时，刚适合此模式，每个层级都代表不同程度的任务抽象，并且每一层都负责像上一层提供服务&lt;/p&gt;
&lt;p&gt;通用信息系统中最常见的四个层级如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;表现层/UI层（Presentation Layer / UI Layer）&lt;/li&gt;
&lt;li&gt;应用层/服务层（Application Layer / Service Layer）&lt;/li&gt;
&lt;li&gt;业务逻辑层/领域层（Business Logic Layer / Domain Layer）&lt;/li&gt;
&lt;li&gt;数据接入层/持久层（Data Access Layer / Persistence Layer）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-1-9f67d60b4d54c211710befa9203a1d89-9fc5f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 188px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 175%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAIAAAAblL1PAAAACXBIWXMAAAsSAAALEgHS3X78AAADDklEQVRIx+1VXU/bMBTl/7/wBn8AKlCFmDSkMqQieFmRKgRoqCrQlqZN0iY0X7YTx4mT7rhxS8VAHex11ql1r33P/bDdm635P4wt/HLf54NBOhqlhqEwHGrhXYxGvN/Pg0CTwSziuMzzMssUIABFAXleFIBWMQsBFUxh25oMf8puMbCNvVJKyRisZRzDbyGEJASLlQ0WM8dZkodD5XIxUAK7uwubzcnOjn9yYm1vvxwcIDW3VhOmqcmUZtPpGjnPdeQ8Zzc34NPr6/j2VhgGMiySBKEKzjWZsVcyHOMM0vFYndl4LCYTmCJOYhjcsjLbVou2jRUUqNa7XTEaaTKKUYUliUYcw/dcCM+27cFgnmWqcsbWDar6t969wLIsMftBMFmkV6nv33P5xyhwQ/N5EATO4lShvjF4JX8UuffY69x3NkRmgpmRaRN7BTM0QxnWG/X9b/tREUHFokUszBMyGYdjUDR54A+82KMppYJiJikBIh4lMgEgYz1KoyRLsAsa+FZkabIRGLlU95zmqZDqtZRznWdRqmoxQ4a7vFBmsYgdunxhQ3+YZimEB/cBKZ10To5+HZ12T3d/7kKG673rPdQF2aUuzBB/SqevkTOp3jb8tYat86fzRrdxObhsGa2u24Xp/eQe1nZk84y/jfw0e0JAeHWZCws/8ZHLlExxELN4hkUIwEv8As6MzfpeH/GWzzPj2AMHCHgAOeQhTsjyLMMxwjSEi4pf2UDlOd9wz5xzRtmGe/6InCQJpfQ/+TNkQsgXyXHMCAk3kKUsCZHrCMMM7eD4+Mfh4XcIUN8YgKLJo5Fqkmh7tq2BhmdZ+eNj2OmgkUnTFItGqDCdZmiWEJb/qmGKj8HffJyq9NEL4WJFFkJoMlKCikRaLYb54oK026hcttvxbKZ7O6VrZKS9ikypvLpiZ2dRreY1GlG97jebBLvPz6nnaTIasePkmtzrpVEkOdddGQEdJ0ORKLVq2NhCL69auxCF6+amuYyMfJAq9PFYoTo5kAGcXLW4Asz6feF5Hzf9T3zccYZfAMZv+xXb2rrJbcwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Layered Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-1-9f67d60b4d54c211710befa9203a1d89-9fc5f.png&quot;
        srcset=&quot;/blog/static/arch-pattern-1-9f67d60b4d54c211710befa9203a1d89-c96ad.png 148w,
/blog/static/arch-pattern-1-9f67d60b4d54c211710befa9203a1d89-9fc5f.png 188w&quot;
        sizes=&quot;(max-width: 188px) 100vw, 188px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：桌面应用，电商网站应用&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：低的层级可以被不同的高层级调用，只要层级定义清晰，可以很容易做到标准化，层级内的变更不会影响到其他层级&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：并不是万试万灵；特定情况下有的层级需要被跳过&lt;/p&gt;
&lt;h3&gt;客户端-服务端模式（Client-Sever Pattern）&lt;/h3&gt;
&lt;p&gt;服务端与客户端是一对多关系，客户端发出对服务的请求，而服务端监听并响应请求&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-2-fd259d2efe99ba07f76cf6dc050a8626-0e013.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 284px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 112.67605633802818%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsSAAALEgHS3X78AAACTElEQVQ4y32UW2+iUBSF/f8/pUnT5ya2qWniS33QyeAlEwc4chFULIgXEHA+2Q6COrNAcjxnr732DVpFUSRJstvttv9FHMdZlp2aaMHs9/uLxSKKovV6/f0PcOS67g2/td/vfd/3PA8L3G8EUXS+a0Acm9FoRKRXMrthGOLYMAzTNA2BUudb1893CV3XLcviiRg0cdEiW9GESQp5nmd5nm42aRznp1NWFFmaHo9HrDHDJk3ThjKyBMZBldJhNIre3sLX183nZ/z1JZsi0CDzZz6f41UphSP+Jmm6dd2NroeaFrPpOEkpHgTBLZkfaQyHQ7MGZVmGZf1i4Tgm67IcgJwPh8M1Z/GBJuLST0EUhnPXpfthGZQ0AhuKckuuN0CAEb5YUAh6Wdk0WlWRbwBHyGRLUVCWuPYl6NGVfA+UmTkhL5fLwWDQ6/W63W6n02m325PJ5EIuHgFlcQ+ZsKkT40lT8cgsN8J+qFzlLNb3dWlhRA1lQutYrVbMI/vEPJ1OabIEkpe4kImHfLCgDEjt/oI1EUptWLMgbBnsqzJnePVKsEBwybVaYUqFZAeIjaZplKAx2xI2k2CXcGzH93yG6f3tHRe2ZZ9vHpY1m80aE1a9VcygzG1yTObR/FLzPEuzVJJEoLK5KEMjJCFLSHESP/98ftFeukb36cfTx+8PMWU8b8l4JTaaQdj4JguM7IVt+EbwHaiF8gJvG58LSbcfvFV0cjwel98PJW/PTM0sZSlTseBpmOe3ilMKwQfjdrYJGN9JDQeuO9Cq+qj8AZ1JGsS7xcCQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Client Sever Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-2-fd259d2efe99ba07f76cf6dc050a8626-0e013.png&quot;
        srcset=&quot;/blog/static/arch-pattern-2-fd259d2efe99ba07f76cf6dc050a8626-cbf60.png 148w,
/blog/static/arch-pattern-2-fd259d2efe99ba07f76cf6dc050a8626-0e013.png 284w&quot;
        sizes=&quot;(max-width: 284px) 100vw, 284px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：email，文档在线共享，在线理财&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：很好了模拟了多客户请求多服务的场景&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：请求一般需要服务端进行多线程处理，用户有多点表征时内部通信管理困难&lt;/p&gt;
&lt;h3&gt;主从模式（Master-Slave Pattern）&lt;/h3&gt;
&lt;p&gt;主机可以将任务分配到各个从机上，每个从机都是独立、可标识的，主机可以对从机的返回结果进行汇总计算&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-3-3c96ff5dbd5a7287786bb1aeed1bed06-59b8a.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 542px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 39.11439114391143%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAAA90lEQVQY041Py27CQAzM//8XHBAS4gZHmrZJNmQT4rX36YWR6IWqVWutrBmvZ2w399eoqoVImVVEvUcGrTnff4rmuziESpSNWbfbdbOJXVdhxPw/sSpPk0xTMMb3fbCWjNGU/haXgh2JRYBjSj4EAB/jShRj/FWsigO9I1dyeVZEBEZf69QKyo5zeTm+WfzCmfuxH+zgknPR3fwNYLpN4zwCgEoSAEu27VryRIHWsGrVJpZ4/DwePg7t0sLsylef/UDD7m13Hs+gqSQrtmi5zJf9+/5kTlDCDsIGxrOf0bTI8rTELrPMxhk8APxyYmRYoIJOYPRg8gM/8c6XEkdTzgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Master Slave Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-3-3c96ff5dbd5a7287786bb1aeed1bed06-59b8a.png&quot;
        srcset=&quot;/blog/static/arch-pattern-3-3c96ff5dbd5a7287786bb1aeed1bed06-70593.png 148w,
/blog/static/arch-pattern-3-3c96ff5dbd5a7287786bb1aeed1bed06-427b7.png 295w,
/blog/static/arch-pattern-3-3c96ff5dbd5a7287786bb1aeed1bed06-59b8a.png 542w&quot;
        sizes=&quot;(max-width: 542px) 100vw, 542px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用情景&lt;/em&gt;：数据库的主从同步和读写分离，电脑系统中通过总线接入外部设备&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：准确性 - 服务的执行委托到不同的从机，不同的从机可以有不同的实现&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：从机是分离的，没有共享状态；主从延时在实时性系统中会造成问题；只适用于解决于可分解的问题&lt;/p&gt;
&lt;h3&gt;管道-过滤器模式（Pipe-Filter Pattern）&lt;/h3&gt;
&lt;p&gt;此模式适用于处理并生成一系列数据流的软件架构，其中每个处理步骤后都附带一个过滤器组件，数据通过管道来传输，管道可用于缓存或者同步&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-4-e5adb4bf00f4870f89a850e77acab48a-381b1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 19.095477386934675%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAj0lEQVQI11WOiwrCMAxF+/+/ad2jrrileSzpxoytiB4CzYVecoKqmhkx+3M1jvOw47M79aw+fdf+syEiYWsQkcxzHUYmmGF6yspltVuknBKmBRfZ0WKUaeJSAICZETGkBpZiTJfswiWu8YGLKr8jwrDdBxh3FY+K6OWcs/f9XnDnWiv/a389e/T51fZK134BDLnnCUML+QcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Pipe Filter Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-4-e5adb4bf00f4870f89a850e77acab48a-fb8a0.png&quot;
        srcset=&quot;/blog/static/arch-pattern-4-e5adb4bf00f4870f89a850e77acab48a-1a291.png 148w,
/blog/static/arch-pattern-4-e5adb4bf00f4870f89a850e77acab48a-2bc4a.png 295w,
/blog/static/arch-pattern-4-e5adb4bf00f4870f89a850e77acab48a-fb8a0.png 590w,
/blog/static/arch-pattern-4-e5adb4bf00f4870f89a850e77acab48a-381b1.png 796w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：编译器（词法分析，转义，语义分析，代码生成等一系列连贯的过滤器），生物信息学中的工作流（如DNA序列分析）&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：可以很好地表现同步处理过程；数据流一产生即可开始处理；增加过滤器非常方便，过滤器可复用并且可以组合成不同的流水线&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：有短板效应，更换过滤器的时候要管理数据异构&lt;/p&gt;
&lt;h3&gt;经纪人模式（Broker Pattern）&lt;/h3&gt;
&lt;p&gt;此模式适用于组件解耦化的系统，组件之间可以通过远程服务调用来交互，同时，有一个经纪人组件负责协调组件间的通信，组件将自己的特征和服务等能力信息注册给经纪人，客户端向经纪人请求服务的时候，经纪再根据注册信息将请求重定向到合适的模式&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-5-3a9db9ec655cc7dc9b42e6b19543a9fd-0b4cf.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 60.79545454545454%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABOElEQVQoz42Si27DIAxF8//fmKkPVaJ5iYQAxmDIbkq1Vm03zbKQbY6NMTTbJxHnMlFeV5nn3fB+y/kdaz4mZ2ux0vHov762UpBcRP6dHMLGbLWmxZTAOfA7U8ovyVUohBjjH0DjfX5X54R5m7XprgNs3JqovDDWSoPR1B6qVhsSY+l7GQZ2zkOZ4wtmzFMyJKVkjLlfO2/n83o6mdsujvVd1wH4gffk20Pc+xxHo9QEo7rTpLVeMDsAcJUah8HcXKmdPwYmgpB/ngcz16MeIySSpzdrUk6cOOe8LEtIgWV/lShRCn6K8+QBwN1rCccU52WukSSpoUjQw3Q4TkdsoxBWSmTZtkN70RdUBIBgiEGTbvv2aq7A1rA24Bw7ZVRvex89XBQGbYKpQRfdPZhIe61WNboRwMrrNzxrvbHi5QzqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Broker Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-5-3a9db9ec655cc7dc9b42e6b19543a9fd-fb8a0.png&quot;
        srcset=&quot;/blog/static/arch-pattern-5-3a9db9ec655cc7dc9b42e6b19543a9fd-1a291.png 148w,
/blog/static/arch-pattern-5-3a9db9ec655cc7dc9b42e6b19543a9fd-2bc4a.png 295w,
/blog/static/arch-pattern-5-3a9db9ec655cc7dc9b42e6b19543a9fd-fb8a0.png 590w,
/blog/static/arch-pattern-5-3a9db9ec655cc7dc9b42e6b19543a9fd-0b4cf.png 704w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：ActiveMQ、Kafka、RabbitMQ 和 JBoss Messaging&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：支持动态地改动和增删对象，服务分布对开发者而言更透明&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：必须要对服务描述进行标准化&lt;/p&gt;
&lt;h3&gt;点对点/对等模式（Peer-to-Peer Pattern）&lt;/h3&gt;
&lt;p&gt;在此模式中，独立组件都是对等的Peer，并且的动态地切换角色，做为客户端时向其他Peer请求服务，做为服务端时可以提供服务&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-6-762c9516f5df5940cfcd4b1f600aa697-2a034.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 260px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 95.38461538461539%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsSAAALEgHS3X78AAACZUlEQVQ4y4VSaW/aQBD1//8fqZREIgpfiBQIzaFEUS5VJDQtIPDaxvjCt3e9B+6znUIbUdV6WmZm35t5jK1VVbXhXFH6F4qiRp7X56erBpuyhFDDDyOEBwH3vA+4rkwSmWUyTRGIIBBhiOKO4PvMMDZSamiDvKoNbLZn+vSU3N4W43Hx/l5TCflEQEf43S+m8zn0Yb+PFjKOMXZHaB7h+x9iRHBIZzM6nZa2XRoGdxxUtlYxp1wucYVKaZpoJ9brRlwUiGAvubuLBoPg6Ci+ukqfn6Ph0Ds8jIfD4vU1OD0Nul36+Bh0OlG/XxKCLWBZzcIWCzTGyW07J4RhguNgAtJ6YDOTWZY3mZSWVTMNg+n6Rgit/i9CwAO2h9i17SJNK6XqYgvOKylZnp/3eqqh1WQh6le13cGm2Yfn+5TSat/juK5S6s/KZ7Hruv8S27b9H3EYhoyx/ZNXzh6xVJJJxgRTlRp8HTi+IyuJtEUpS5xccd3UKadcclQgqcVISEjczF0lKy/3RrMR8UnCEiCmcUQjP/eDPHBSxwgMcBC4qQsJ9BqaeZm3td2eL9bLvX4/8SZTfwoxqDtCVZ8oYqpGxR7x2Blfzi67b93+pL8u1mZkbq/a57eYU0RooYc6JoRFCFcQoALPLVKWBkUAxCzGpKzMQKjFBS8geFu93cxvet97X16+DCaDB+PhYnpx8Hxw/vN8ZI9ORiedUed6fn387fjsx9l8PUdHrE3DJklEVulqsV7YiW3GJlbiZA6sLpMlgCsrtgAYbItWYhmRIVTzeaIHgAROhBRtingHxds3VHMUbwkQ/gJaDDGrX8QwmwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Peer to Peer Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-6-762c9516f5df5940cfcd4b1f600aa697-2a034.png&quot;
        srcset=&quot;/blog/static/arch-pattern-6-762c9516f5df5940cfcd4b1f600aa697-67ba2.png 148w,
/blog/static/arch-pattern-6-762c9516f5df5940cfcd4b1f600aa697-2a034.png 260w&quot;
        sizes=&quot;(max-width: 260px) 100vw, 260px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：Gnutella 和 G2 等文档共享网络，P2PTV 和 PDTP 等多媒体协议&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：支持去中心化计算；单点故障时的鲁棒性高；资源和算力的伸缩性比较高&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：服务的质量无法保障，Peer之间的协作比较脆弱，安全很难保障，性能取决于Peer的数量&lt;/p&gt;
&lt;h3&gt;事件总线模式（Event-Bus Pattern）&lt;/h3&gt;
&lt;p&gt;此模式主要用于处理事件，主要的组件有如下四种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事件源（Event Source）&lt;/li&gt;
&lt;li&gt;事件监听器（Event Listener）&lt;/li&gt;
&lt;li&gt;频道（Channel）&lt;/li&gt;
&lt;li&gt;事件总线（Event Bus）- 事件源通过向特定频道发布消息，而监听器则订阅了特定的频道，从而得知事件发生&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-7-56efaa6cd50c5ec0ba05e9b36a403ffd-f18e1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABhklEQVQoz21SyXLCMBTL/39eOXDoAQhLQjbvz7upjDudtvDGcZ6FZMsi3aNVKZmohFBizN6jf+QMOBtTwedAD9rjV3Xf2pSSEO54tIdDmOekFNjAoxBA3OnkrlcQynPHF3HOSUo/TW4cI2NVnFIVA7zfAYZpipy/P/mnCOb/MlDO+1ewiuHXex9jwEAJIXxA36o2ACXOr5y2+i4sOq01TsPV1pWkdH1/E4K2jTi3UtYGy/N5ZMwwZjkn51xTQtUR2ZyztQXW+j6cTvF2w08FMeMGAC+X2PcVxJKoBjYMw4xQU+qMIYRlTBYiIZe+p/s9KJW0xl+TloWGwV8udhw9CMBxd2O0Uqraho3mnMh4D7ercxYg53yeJ86Zs3DOrDWV8Sz7rGr7J7ryqHkyxqBEbJhbwniwUUr5TdrtlUpSTmmvF7lselvVmktlc8uBA8QsrGjgizhX8X7afwwfV3nVQYdUv7DVrJ/L527cHbbDopf3YjjEscYbCoRhgmm8BtpgMWP3f5/KF6Af8kk7iI3wAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Event Bus Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-7-56efaa6cd50c5ec0ba05e9b36a403ffd-fb8a0.png&quot;
        srcset=&quot;/blog/static/arch-pattern-7-56efaa6cd50c5ec0ba05e9b36a403ffd-1a291.png 148w,
/blog/static/arch-pattern-7-56efaa6cd50c5ec0ba05e9b36a403ffd-2bc4a.png 295w,
/blog/static/arch-pattern-7-56efaa6cd50c5ec0ba05e9b36a403ffd-fb8a0.png 590w,
/blog/static/arch-pattern-7-56efaa6cd50c5ec0ba05e9b36a403ffd-f18e1.png 632w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：安卓开发，消息类服务&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：发布者、订阅者和链接都可以很方便地增加；对高分布性的系统来说很有效&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：系统规模的伸缩性不好，并且所有的消息都必须经过总线&lt;/p&gt;
&lt;h3&gt;模型-视图-控制器模式（Model-View-Controller Pattern）&lt;/h3&gt;
&lt;p&gt;MVC 模式则是将交互型应用拆分为三部分，使得信息从产生到被用户接收的过程变得更清晰，有利于组件的解耦和复用：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;模型（Model）包含核心的功能和数据&lt;/li&gt;
&lt;li&gt;视图（View）向用户展示数据&lt;/li&gt;
&lt;li&gt;控制器（Controller）处理用户的输入&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-8-6ce0e512f2614d5ecdae320af4eb1b0e-0ccd1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 43.48925410872314%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABEklEQVQoz32Q247DIAxE+/+f19dWVdSLsiQESFLA2EA6abSXdrVrIWTZnLGZnTHGWttrPc/zIpKJakqFuSARcc6N49j3fQhBipBQkpRyQiJZdiCVUh36SgVjllrpcuGuq8w0Tf0wrJ0P1elu8tPgh6M+4rjooLJbPqOUso5l5mmK1m7za62ob93IcRgHPeo5zYHXRb7hn5GwWs4gm6bZ7/fYDkURoUgll69nL/AqHyNIIoIFyG+32/l81lpDywfP8tyllhcYJdze+8Ph0Lbt9Xq11jCnrY4bcpCAFgyCHLZ4n/wWMTKshhXGuBgJEmBWa54/+g8OoaRU2zadTnS/i/fl+f4l/oRhPHjnslISwpr/hh9b7wsAgLPRtAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;MVC Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-8-6ce0e512f2614d5ecdae320af4eb1b0e-fb8a0.png&quot;
        srcset=&quot;/blog/static/arch-pattern-8-6ce0e512f2614d5ecdae320af4eb1b0e-1a291.png 148w,
/blog/static/arch-pattern-8-6ce0e512f2614d5ecdae320af4eb1b0e-2bc4a.png 295w,
/blog/static/arch-pattern-8-6ce0e512f2614d5ecdae320af4eb1b0e-fb8a0.png 590w,
/blog/static/arch-pattern-8-6ce0e512f2614d5ecdae320af4eb1b0e-0ccd1.png 791w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：Web站点，Web框架&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：同个模型可以有多种视图，并且在运行时动态展示&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：复杂性增加，用户行为可能会触发很多不必要的更新&lt;/p&gt;
&lt;h3&gt;黑板模式（Blackboard Pattern）&lt;/h3&gt;
&lt;p&gt;这类模式一般用于已知解决方案不确定的问题，核心的三个组件为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;黑板（Blackboard）- 结构性的全局内存，包含了所有可能的解决方案&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;知识源（Knowledge Source）- 带有自身实现的特定模块&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;控制组件（Control Component）- 选择和配置并运行模块&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所有的组件都可访问黑板组件，组件可以产生新数据并添加到黑板上，同时，组件也可以通过对知识源的模式匹配在黑板上找到特定类型的数据&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-9-fc4c1afba74eba7ef729b15ceb59e4e7-fde3e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 530px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.41509433962264%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABgUlEQVQoz4VRXU/jMBDM//9XiIc+IKC5SkioCFG4po7j2I436287bAOl0t0Do5UV25nZ8Wyz/IZcs3a6h54Z9lUcuLTSRtv8SnbRMWAta+/+3t2+3W4+Ng/dw17slVVXcq0VEed5xh9YBAO96DveHd4OVN2xO3WnnvW5ZOPNlZxSAoBSSl5RVpCiT16jBgSwoI1WRqHDkAJ4uJKd95MxXxb+cR5yIIlYIxOMXPjsMWIqqSmIyZg8jmq/58/PeRhom7T+X4LgqYMPP9smjWPUGp6eYLPBx0ds2zLPifOa0iWLJYRClctCMUwGcj6fpFQbK+X76+vH8TgBpJxDjCEEr9RSyvdzXBGC/C2HQ7i5Mff3KCUZTUKkxinFuq7v+2manHOWxK3FcawXcgiV81kIuq3WUvPiPX1UrfO585/ttt3tHN1c0rLj2J9ONCwAoxS+vLzvdlvOmZRDWUVpDgC5ofk4IbyU59joYK2kFE1sFaoxFqWiUn4YcBgspUm/0DrP+RPKo3bDsyvDeQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Blackboard Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-9-fc4c1afba74eba7ef729b15ceb59e4e7-fde3e.png&quot;
        srcset=&quot;/blog/static/arch-pattern-9-fc4c1afba74eba7ef729b15ceb59e4e7-8803e.png 148w,
/blog/static/arch-pattern-9-fc4c1afba74eba7ef729b15ceb59e4e7-77437.png 295w,
/blog/static/arch-pattern-9-fc4c1afba74eba7ef729b15ceb59e4e7-fde3e.png 530w&quot;
        sizes=&quot;(max-width: 530px) 100vw, 530px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：语音识别，车辆识别和追踪，蛋白质结构识别，声纳信号拦截&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：添加新应用很方便，数据空间的拓展也很容易&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：变更数据空间很难，因为所有的应用都会被影响到；经常需要做同步或者访问限制&lt;/p&gt;
&lt;h3&gt;拦截器模式（Interpreter Pattern）&lt;/h3&gt;
&lt;p&gt;此模式主要用于在现存软件架构中设计拦截器组件，比如用于识别一种语言的程序中特定的几行语句或者表达式，从而使得语言中的每种符号都能被分类&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/arch-pattern-10-3bc063debec6657191ef04d87ef82859-7c491.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 70.75757575757575%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAABfUlEQVQoz41Sa3PCIBD0//+6aqs2nzJtRcxD5RHggBC7gbbOWO30csOQO/ZuuWVxuWdjthijUmr4NufczbHFbyQwWmvvvZSy73vGWFVVnPMCnqbpCkbIWoujRITyKSVs8FvSSBljSuef4BVc0tvtFk1AEt1Kics/7AsshNDZUB6REAJyybnRmOLYJ2unHL+Cp2zlMmUDJO4wX75p3Hptnp8N1tWK6joNwyUffTgwgMEFFPqPD1bXh/f3/dvbifPJOd11IcbgfbnXHTD6A+mI3Pk8Ec0D1BqEwdwKUUpTprZ4NIw4jrMEWYzT8TiL4WYVoH9WxP8FHvSAJhFfNpDFq0ElaAFq9ztTJOEEvJGN8kqSdHF+G1onKScpx6ah0ym0rcHsb8HKqaqplrvl0+4J62v72g9HxOvaLZdqsxlWK/3yYqqKGPO3YGnlbr/jBw5vuzamqL1GvOs0Y3vOW8b4+awQESL+oh2IRvIYFjx5G6wJBnE8E7zO4kRQDZKPn8ONLKITwXVrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Interpreter Pattern&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/arch-pattern-10-3bc063debec6657191ef04d87ef82859-fb8a0.png&quot;
        srcset=&quot;/blog/static/arch-pattern-10-3bc063debec6657191ef04d87ef82859-1a291.png 148w,
/blog/static/arch-pattern-10-3bc063debec6657191ef04d87ef82859-2bc4a.png 295w,
/blog/static/arch-pattern-10-3bc063debec6657191ef04d87ef82859-fb8a0.png 590w,
/blog/static/arch-pattern-10-3bc063debec6657191ef04d87ef82859-7c491.png 660w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;em&gt;常用场景&lt;/em&gt;：数据库查询语言，用于描述通信协议的程序语言pa&lt;/p&gt;
&lt;p&gt;&lt;em&gt;优点&lt;/em&gt;：高度动态化，对用户重编程很友好，拦截器的替换很方便，所以提高了可拓展性&lt;/p&gt;
&lt;p&gt;&lt;em&gt;缺点&lt;/em&gt;：拦截器模式的编程语言一般要比编译的语言慢，性能可能会成为问题&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Vue in Depth]]></title><description><![CDATA[Reactivity]]></description><link>https://silentmaker.github.io/blog/vue-in-depth/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/vue-in-depth/</guid><pubDate>Thu, 02 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Reactivity&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Build Snake Game with P5.js]]></title><description><![CDATA[Processing.js & P5.js]]></description><link>https://silentmaker.github.io/blog/build-snake-game-with-p5-js/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/build-snake-game-with-p5-js/</guid><pubDate>Thu, 02 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Processing.js &amp;#x26; P5.js&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Matter.js Introduction]]></title><description><![CDATA[Matter.js]]></description><link>https://silentmaker.github.io/blog/matter-js-intro/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/matter-js-intro/</guid><pubDate>Wed, 01 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Matter.js&lt;/h2&gt;</content:encoded></item><item><title><![CDATA[Presentation on the Web with Reveal.js]]></title><description><![CDATA[Presentation Problems]]></description><link>https://silentmaker.github.io/blog/presentation-on-the-web-with-reveal-js/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/presentation-on-the-web-with-reveal-js/</guid><pubDate>Thu, 26 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Presentation Problems&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Three.js Introduction]]></title><description><![CDATA[WebGL]]></description><link>https://silentmaker.github.io/blog/three-js-intro/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/three-js-intro/</guid><pubDate>Thu, 26 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;WebGL&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Event Loop]]></title><link>https://silentmaker.github.io/blog/event-loop/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/event-loop/</guid><pubDate>Thu, 26 Jul 2018 00:00:00 GMT</pubDate><content:encoded></content:encoded></item><item><title><![CDATA[Ploymer入门]]></title><description><![CDATA[Everything is an element. Concepts Polymer lets you build encapsulated, reusable  Web Components  that work just like standard HTML elements…]]></description><link>https://silentmaker.github.io/blog/Ploymer入门/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/Ploymer入门/</guid><pubDate>Thu, 26 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;Everything is an element.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Concepts&lt;/h3&gt;
&lt;p&gt;Polymer lets you build encapsulated, reusable &lt;a href=&quot;https://www.webcomponents.org/introduction&quot;&gt;Web Components&lt;/a&gt; that work just like standard HTML elements.&lt;/p&gt;
&lt;p&gt;Web Components are now implemented natively on Safari and Chrome, and run well on Firefox, Edge, and IE11 using polyfills. :smile:&lt;/p&gt;
&lt;h3&gt;Basics&lt;/h3&gt;
&lt;h4&gt;scripts&lt;/h4&gt;
&lt;p&gt;load webcomponents-loader.js to check and load any polyfills your browser needs&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&amp;lt;!DOCTYPE html&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;./node_modules/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;./node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;custom-element&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;custom-element&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;basic Polymer element definition&lt;/h4&gt;
&lt;p&gt;Note: ==LiteElement== is the successor to PolymerElement now.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;PolymerElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@polymer/polymer/polymer-element.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Define the element&apos;s API using an ES2015 class&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XCustom&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PolymerElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;greeting &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Hello!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Define optional shadow DOM template&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Data bindings in shadow DOM&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; html&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
      &amp;lt;style&gt;
        /* scoped CSS rules for your element */
      &amp;lt;/style&gt;
      &amp;lt;div&gt;[[greeting]]&amp;lt;/div&gt; 
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Declare properties for the element&apos;s public API&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      greeting&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Add methods to the element&apos;s public API&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;greetMe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;greeting&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Register the x-custom element with the browser&lt;/span&gt;
customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;x-custom&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; XCustom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;element composition&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;PolymerElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@polymer/polymer/polymer-element.js&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PictureFrame&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PolymerElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; html&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
    &amp;lt;!-- scoped CSS for this element --&gt;
    &amp;lt;style&gt;
      div {
        display: inline-block;
        background-color: #ccc;
        border-radius: 8px;
        padding: 4px;
      }
    &amp;lt;/style&gt;
    &amp;lt;div&gt;
      &amp;lt;!-- any children are rendered here --&gt;
      &amp;lt;slot&gt;&amp;lt;/slot&gt;
    &amp;lt;/div&gt;
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;picture-frame&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PictureFrame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;data binding&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;PolymerElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@polymer/polymer/polymer-element.js&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NameTag&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PolymerElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;owner &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Daniel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; html&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
      &amp;lt;!-- bind to the &quot;owner&quot; property --&gt;
      This is &amp;lt;b&gt;{{owner}}&amp;lt;/b&gt;&apos;s name-tag element.
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;name-tag&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; NameTag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;declare properties&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;PolymerElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@polymer/polymer/polymer-element.js&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ConfigurableNameTag&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PolymerElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      owner&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Daniel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;template&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; html&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
      This is &amp;lt;b&gt;[[owner]]&amp;lt;/b&gt;&apos;s name-tag element.
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;configurable-name-tag&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ConfigurableNameTag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;two-way binding&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- non-Polymer element --&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- target-prop=&quot;{{hostProp::target-change-event}}&quot; --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{hostValue::input}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{hostChecked::change}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;video&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;...&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;current-time&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{hostTime::timeupdate}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    
&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Polymer element, with default event --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;my-element&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{hostValue::value-changed}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;my-element&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;{{hostValue}}&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;array to list&lt;/h4&gt;
&lt;p&gt;use &lt;code class=&quot;language-text&quot;&gt;&amp;lt;dom-repeat&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;PolymerElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@polymer/polymer/polymer-element.js&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@polymer/polymer/lib/elements/dom-repeat.js&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EmployeeList&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PolymerElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;employees &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Bob&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; last&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Li&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Ayesha&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; last&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Johnson&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Fatma&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; last&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Kumari&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Tony&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; last&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Mori&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;template&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; html&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
    &amp;lt;div&gt; Employee list: &amp;lt;/div&gt;
    &amp;lt;template is=&quot;dom-repeat&quot; items=&quot;{{employees}}&quot;&gt;
        &amp;lt;div&gt;First name: &amp;lt;span&gt;{{item.first}}&amp;lt;/span&gt;&amp;lt;/div&gt;
        &amp;lt;div&gt;Last name: &amp;lt;span&gt;{{item.last}}&amp;lt;/span&gt;&amp;lt;/div&gt;
    &amp;lt;/template&gt;
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;employee-list&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; EmployeeList&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Setup&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i -g polymer-cli
&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; myapp &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cd&lt;/span&gt; myapp
ploymer init &lt;span class=&quot;token comment&quot;&gt;# select temmtplate on prompt&lt;/span&gt;
ploymer serve&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Development&lt;/h3&gt;
&lt;h4&gt;create new page&lt;/h4&gt;
&lt;p&gt;Edit ==src/my-new-view.js==&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; PolymerElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@polymer/polymer/polymer-element.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./shared-styles.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyNewView&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PolymerElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; html&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
      &amp;lt;style include=&quot;shared-styles&quot;&gt;
        :host {
          display: block;

          padding: 10px;
        }
      &amp;lt;/style&gt;

      &amp;lt;div class=&quot;card&quot;&gt;
        &amp;lt;div class=&quot;circle&quot;&gt;1&amp;lt;/div&gt;
        &amp;lt;h1&gt;New View&amp;lt;/h1&gt;
        &amp;lt;p&gt;New view!&amp;lt;/p&gt;
      &amp;lt;/div&gt;
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-new-view&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MyNewView&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Edit ==src/my-app.js==&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;iron-pages&amp;gt;&lt;/code&gt; is bound to the page variable that change with the route, and select the active page.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-pages&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[page]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;attr-for-selected&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;my-view1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;view1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;my-view1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;my-view2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;view2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;my-view2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;my-view3&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;view3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;my-view3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;my-new-view&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;new-view&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;my-new-view&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;my-view404&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;view404&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;my-view404&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-pages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Modify route&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;_routePageChanged&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;view1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;view1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;view2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;view3&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;new-view&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;view404&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Import new page dynamically&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Note: `polymer build` doesn&apos;t like string concatenation in import statements&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_pageChanged&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;view1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./my-view1.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;view2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./my-view2.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;view3&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./my-view3.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;new-view&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./my-new-view.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;view404&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./my-view404.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Add navigation menu item&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-drawer&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;slot&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;swipe-open&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[narrow]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-toolbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Menu&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-toolbar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iron-selector&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[page]]&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;attr-for-selected&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;drawer-list&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;navigation&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;view1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]view1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;View One&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;view2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]view2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;View Two&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;view3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]view3&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;View Three&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;new-view&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;[[rootPath]]new-view&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;New View&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iron-selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-drawer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h4&gt;create new component&lt;/h4&gt;
&lt;p&gt;Using existed web component:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Import a component --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://unpkg.com/@polymer/paper-checkbox@next/paper-checkbox.js?module&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;module&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- Use it like any other HTML element --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;paper-checkbox&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Web Components!&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;paper-checkbox&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;First,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i @polymer/polymer&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Then,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;node_modules/@webcomponents/webcomponents-loader.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;module&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;
    &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;PolymerElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@polymer/polymer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyElement&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PolymerElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; mood&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; html&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
          &amp;lt;style&gt; .mood { color: green; } &amp;lt;/style&gt;
          Web Components are &amp;lt;span class=&quot;mood&quot;&gt;[[mood]]&amp;lt;/span&gt;!
        `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    customElements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;my-element&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MyElement&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;my-element&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;mood&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;happy&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;my-element&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;More&lt;/h3&gt;
&lt;p&gt;Find out more at &lt;a href=&quot;https://www.polymer-project.org&quot;&gt;ploymer-project.org&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[RAIL性能模型笔记]]></title><description><![CDATA[RAIL is a User-centric performance model that breaks down the user’s experience into key actions. Every web app has four distinct aspects to…]]></description><link>https://silentmaker.github.io/blog/RAIL性能模型笔记/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/RAIL性能模型笔记/</guid><pubDate>Thu, 26 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/rail-72a81f5fdebe9b6ca1dc78cc6b568dc2-f3cfc.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 36.2589928057554%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAABkUlEQVQY002Oyy8DURSHZ2kj8Y9YWFtaiEhshHiEioQtC0m9iUdC2CBNqaZBo1WEKBlURUwpaZSOR7wWqh6tjmrU3M6j995j2lr4JefkS06+Xw4DAFIm8C/RaDQWi2lAKdW2qqoY4ywLgsBxnCzLGjPavIcjd/cPGBOSvoKYSAwNDpz5fJkemkTic/BJUSSgJN0rCBd8QEToT6YEp6Q4UDXjQiQeZznuM5HIfiEpWFSwBoSk5fDrm9vJIjEjP0bo+hls83TDT3whgPsbwjpTeyzeXCPXN6mwV+ZnlCuzdGmCD/+B8Gi6dU2eb5of9i/jIcZ+QkvHSbWBlI2pXSxg6+xPeQnSVaDKEsVoEt262AjzvZAvjDDg0Zcez+Ta6wu2O3NsdX38CmPz0ioDabWSBqPavwvqogU1VidbmlFTjWKZE3drv0aZb0fhpyZzbcVHxjy7rsg9nGOr7w44mIsgTLmo5ZAaXHjnDqj/VJ6eVObN8vQE9nrV4Bbi9ElPB/K009D+0st5b8DRz6/2BJa5j9tfXDZSBYA3XZkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;RAIL&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/rail-72a81f5fdebe9b6ca1dc78cc6b568dc2-fb8a0.png&quot;
        srcset=&quot;/blog/static/rail-72a81f5fdebe9b6ca1dc78cc6b568dc2-1a291.png 148w,
/blog/static/rail-72a81f5fdebe9b6ca1dc78cc6b568dc2-2bc4a.png 295w,
/blog/static/rail-72a81f5fdebe9b6ca1dc78cc6b568dc2-fb8a0.png 590w,
/blog/static/rail-72a81f5fdebe9b6ca1dc78cc6b568dc2-526de.png 885w,
/blog/static/rail-72a81f5fdebe9b6ca1dc78cc6b568dc2-fa2eb.png 1180w,
/blog/static/rail-72a81f5fdebe9b6ca1dc78cc6b568dc2-f3cfc.png 1390w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;RAIL is a User-centric performance model that breaks down the user’s experience into key actions.&lt;/p&gt;
&lt;p&gt;Every web app has four distinct aspects to its life cycle, and performance fits into them in different ways.&lt;/p&gt;
&lt;h3&gt;User Perception&lt;/h3&gt;
&lt;p&gt;User perception of performance delays:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Delay&lt;/th&gt;
&lt;th&gt;Perception&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0 to 16ms&lt;/td&gt;
&lt;td&gt;Browser paint 60 frames to screen every second, leaving about 10ms for app to produce a frame.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0 to 100ms&lt;/td&gt;
&lt;td&gt;Users feel like the result are immediate.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;100ms to 300ms&lt;/td&gt;
&lt;td&gt;A slightly perceptible delay.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;300ms to 1000ms&lt;/td&gt;
&lt;td&gt;Users feel part of a natural and continuous progression of tasks, like loading page or changing views.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1000ms or more&lt;/td&gt;
&lt;td&gt;User lose focus on the task that is performing.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10s or more&lt;/td&gt;
&lt;td&gt;User are frustrated and likely to abandon tasks.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Response&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Process events in under 50ms.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Don’t block the user, work in the background if possible.&lt;/p&gt;
&lt;p&gt;Actions that takes more than 50ms need to provide feedback.&lt;/p&gt;
&lt;p&gt;Idle tasks affect the input response budget.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-81927.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAACKUlEQVQoz11RTWzSABTu2Ysn48H7Dl68ePTmCQ+bysFEY9hhHhY3t5HN7ERiopNFJeAcTpbphExkLGaSYVJE2MbPoBUWGD+DjQHlZyAttLSlP9jWLiER/fLly3sv33sveQ+Q+iAKYqGUp1hS+hdMt1M4PUGKCM/z/XWgv1PWNJRFnCju57DtDhakMT+F7lAtHxuxJwiC+G/oWbMgiCRF0XRHjstxtGDhanap8lmofBHKVqn0UTw1S4cWjGFYmbKTojuiKMnsbf7NM2KXEUQBz+VR0N3a2W159jrHDhY3sNhbBl2oFS0cS0sCL3RZocv1NuMUH8sTSYSMnRAlgo9/h70PXgXHDYExc25tpAqeqzovFr+eTzmuFerteJFMILK20TaXqZBAMI0pteG7OnjwaXDJXbbZ4flho/Gh6fXoetSuRn0DVZ+i6rl85LrxZiszNBe6p4OU82Fwv65+HwcCaVSlhyZM0fu68LsfpU826MXIkmlqRT+2AdumGv4ryO6tsudq1qVYdGZV+p+TpqhKD4PR+vTqAeBLobe1e3I+9CxgBIsr69GJ0TXNjO2x2uW3qzHvhYp7oAJeyrmuGxyHN+dCw3pIqQ19i9QeLceAeAGfNSc01vT0h4NNqLbpPXqy4H+5HHxuSsDbi+2IogHdaYQHf+1PbgSQmdWkxpqatSTDmaZh6xiQLy6/qkdRZDmOIKlmCycpmmNZmmoTeJOiCI5j/9pkn3hm/gPlLeMLjBcBDwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;rail response details&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-fb8a0.png&quot;
        srcset=&quot;/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-1a291.png 148w,
/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-2bc4a.png 295w,
/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-fb8a0.png 590w,
/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-526de.png 885w,
/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-fa2eb.png 1180w,
/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-08f6a.png 1770w,
/blog/static/rail-response-details-93bebdb87aaf88dfe5b4e12893e81a87-81927.png 2400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Animation&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Produce a frame in 10ms&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Whenever possible, make use of the 100ms response budget to pre-calculate expensive work so that you maximize your chances of hitting 60fps.&lt;/p&gt;
&lt;p&gt;All interactions are considered animation:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Visual aniamtions, such as loading indicators, tweening, entrance and exit.&lt;/li&gt;
&lt;li&gt;Scrolling, such as flinging, as the page continue to scroll after user lets go scorlling.&lt;/li&gt;
&lt;li&gt;Dragging, such as dragging a map or pinching to zoom.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;More to see: &lt;a href=&quot;https://silentmaker.github.io/blog/rendering-performance&quot;&gt;Rendering Performance&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Idle&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Maximize idle time&lt;/strong&gt; to increase the odds that the page responds to user input within 50ms.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Use idle time to do deffered work, like loading a page with minium data and get the rest afterwards.&lt;/li&gt;
&lt;li&gt;Idle time tasks should be perform within 50ms or less.&lt;/li&gt;
&lt;li&gt;User interactions should have highest priority and interrupt the idle time task.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Load&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Deliver content and become interactive in under 5 seconds&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When pages load slowly, user attention wanders, and users perceive the task as broken. Sites that load quickly have longer average sessions, lower bounce rates, and higher ad viewability.&lt;/p&gt;
&lt;p&gt;Optimize loading performance relative to the users’s network condition and device. &lt;/p&gt;
&lt;p&gt;Currently, a good target for first loads is to load the page and be interactive in 5s or less on mid-range mobile devices (such as Moto G4) with slow 3G connections. &lt;/p&gt;
&lt;p&gt;For subsequent loads, a good target is to load the page in under 2 seconds.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Focus on optimizing &lt;a href=&quot;https://silentmaker.github.io/blog/critical-rendering-path/&quot;&gt;Criticl Rendering Path&lt;/a&gt; to unblock rendering.&lt;/li&gt;
&lt;li&gt;Enable progressive rendering and do some work in the background. Defer non-essential loads to periods of idle time. &lt;/li&gt;
&lt;li&gt;Recognize the factors that affect page load performance: Network speed and latency, Hardware, Cache eviction, L2/L3 caching, Parsing javascript.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-0bad8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 49.515151515151516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABlUlEQVQoz2VRy07CUBTsL7JiYUz8AmXlVvcufIRAwIQNixplBwohqGGJtiDW1tjSNtW+ta3QBw/xMdAYq87iZG7vnHPuTInPBD6WeE8Axz+C2Wz29g0ieTcej8MwxPVkMomiCEf0JwXz+dy2bcuyVFUFITAAUtTpdKo+qbIsg2uqKooivo9GI0hRMdQ0Tdd1IdM0TVGUxWbswRlT0VYqlcrl8mAwqFQqewcHfYahKCqXyzeaTY7jisVD8uhIkiSSJHf39hXlkcBLYmOCwGez2UKhwLJsPpdfSafb562zemNtdXV/Z6dz1cmsb2xmNph+f3trK51Kccztojn24zgOwzB3LPts2z2aoqlryzRRG/W6wPMP99xprXbT6xma1r68uOl2Xz33pzlOK1rCh8kogh3D0A3DQHTOyzNC8oNgOBxKomiaFvQEUkEPqud5PM/DMFKRZUkQBM9z4ZCmaV3X4QVWW60WoqlWqyfHx5i1SBvNGAMSBAE43oLl4PEPw2akHSfv+z5u430gv/7zH8Rzo3AB8P+CL+kaFxcoooS4AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;speed metrics&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-fb8a0.png&quot;
        srcset=&quot;/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-1a291.png 148w,
/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-2bc4a.png 295w,
/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-fb8a0.png 590w,
/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-526de.png 885w,
/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-fa2eb.png 1180w,
/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-08f6a.png 1770w,
/blog/static/speed-metrics-af30b895d5a5bc08125643887a5b626b-0bad8.png 3300w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Tools&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Chrome Devtools&lt;/li&gt;
&lt;li&gt;Lighthouse&lt;/li&gt;
&lt;li&gt;WebPageTest&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Redux基础]]></title><description><![CDATA[Redux Create a store Use a store React Redux Provider Mapping state Shorthand Combining reducers Middleware Signature Applying Middleware…]]></description><link>https://silentmaker.github.io/blog/Redux基础/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/Redux基础/</guid><pubDate>Thu, 26 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Redux&lt;/h3&gt;
&lt;p&gt;Create a store&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createStore &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;redux&apos;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Reducer&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;counter&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; action&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;INCREMENT&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;DECREMENT&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; store &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Or Optionally - `initialState` as a second argument&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; store &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Use a store&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; store &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Dispatches an action&lt;/span&gt;
store&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;INCREMENT&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
store&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;DECREMENT&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Gets current state&lt;/span&gt;
store&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Subscribe for changes&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; unsubscribe &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; store&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Unsubscribe&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;unsubscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;React Redux&lt;/h3&gt;
&lt;p&gt;Provider&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Provider &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-redux&apos;&lt;/span&gt;
React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Provider store&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;store&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;App &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Provider&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mountNode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Mapping state&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; connect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-redux&apos;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// A functional React component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; onMessageClick &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onMessageClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hello&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Maps `state` to `props`:&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// These will be added as props to the component.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mapState&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Maps `dispatch` to `props`:&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mapDispatch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dispatch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;onMessageClick&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; message &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Connect them:&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mapState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mapDispatch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;App&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Shorthand&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dispatch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    onMessageClick&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; message &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;App&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Combining reducers&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; reducer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;combineReducers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  counter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; store
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Middleware&lt;/h3&gt;
&lt;p&gt;Signature&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// noop middleware&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;logger&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; store &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; dispatch &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; action &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;logger&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; store &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// This function runs on createStore().&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// It returns a decorator for dispatch().&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; dispatch &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Runs on createStore(), too.&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// It returns a new dispatch() function&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; action &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// Runs on every dispatch()&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Applying Middleware&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; enhancer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;applyMiddleware&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logger&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; thunk&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; store &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; enhancer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;More&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://redux.js.org/&quot;&gt;Redux Documentation&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AMP Introduction]]></title><description><![CDATA[Accelerated Mobile Page]]></description><link>https://silentmaker.github.io/blog/amp-intro/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/amp-intro/</guid><pubDate>Sun, 22 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Accelerated Mobile Page&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Workbox Usage]]></title><description><![CDATA[Service Worker Workbox is a set of service worker libraries that making build progressive web apps easy.]]></description><link>https://silentmaker.github.io/blog/workbox-usage/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/workbox-usage/</guid><pubDate>Sat, 21 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Service Worker&lt;/h3&gt;
&lt;p&gt;Workbox is a set of service worker libraries that making build progressive web apps easy.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Javascript Meta-Programming]]></title><description><![CDATA[Meta-Programming]]></description><link>https://silentmaker.github.io/blog/javascript-metaprogramming/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/javascript-metaprogramming/</guid><pubDate>Fri, 20 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Meta-Programming&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[SSR Optimization]]></title><description><![CDATA[Pros & Cons]]></description><link>https://silentmaker.github.io/blog/ssr-optimization/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/ssr-optimization/</guid><pubDate>Fri, 29 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Pros &amp;#x26; Cons&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Web Workers笔记]]></title><description><![CDATA[Worker  是在 Javascript 中实现多线程的一种方法，通常用于进行耗时/次要的任务，可以提高计算速度，并且达到不阻塞UI的目的 在 Web Workers API 中，Worker可以分为  dedicated Woker ， SharedWorker…]]></description><link>https://silentmaker.github.io/blog/Web Worker笔记/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/Web Worker笔记/</guid><pubDate>Tue, 26 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Worker&lt;/strong&gt; 是在 Javascript 中实现多线程的一种方法，通常用于进行耗时/次要的任务，可以提高计算速度，并且达到不阻塞UI的目的&lt;/p&gt;
&lt;p&gt;在 Web Workers API 中，Worker可以分为 &lt;em&gt;dedicated Woker&lt;/em&gt;，&lt;em&gt;SharedWorker&lt;/em&gt; 和 &lt;em&gt;ServiceWorker&lt;/em&gt;，
其 constructor 为分别为 &lt;em&gt;Worker&lt;/em&gt;，&lt;em&gt;SharedWorker&lt;/em&gt; 和 &lt;em&gt;ServiceWorker&lt;/em&gt;，并且都基于 &lt;em&gt;AbstractWorker&lt;/em&gt; 实现，
其 scope 分别为 &lt;em&gt;DedicatedWorkerGlobalScope&lt;/em&gt;，&lt;em&gt;SharedWorkerGlobalScope&lt;/em&gt; 和 &lt;em&gt;ServiceWorkerGlobalScope&lt;/em&gt;，并且都基于 &lt;em&gt;WorkerGlobalScope&lt;/em&gt; 实现&lt;/p&gt;
&lt;h3&gt;Worker&lt;/h3&gt;
&lt;p&gt;在同源策略下，Worker也可以创建Worker，不过目前在 Blink/WebKit 等内核中还没有实现&lt;/p&gt;
&lt;p&gt;主线程与Worker线程之间通过很简单的方式通信，核心代码如下&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// main.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Worker&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; myWorker &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Worker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;worker.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    myWorker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    myWoker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onmessage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// worker.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onmessage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;computed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Worker 继承了 EventTarget，并且实现了AbstractWorker的属性和方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AbstractWorker.onerror&lt;/li&gt;
&lt;li&gt;Worker.onmessage&lt;/li&gt;
&lt;li&gt;Worker.onmessageerror&lt;/li&gt;
&lt;li&gt;Worker.postMessage()&lt;/li&gt;
&lt;li&gt;Worker.terminate()&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Worker 可访问的全局变量（大多继承自WorkerGlobalScope，并且只读）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;self&lt;/li&gt;
&lt;li&gt;navigator&lt;/li&gt;
&lt;li&gt;location&lt;/li&gt;
&lt;li&gt;console&lt;/li&gt;
&lt;li&gt;caches&lt;/li&gt;
&lt;li&gt;indexedDB&lt;/li&gt;
&lt;li&gt;atob/setTimeout/setInterval&lt;/li&gt;
&lt;li&gt;XMLHttpRequest (responseXML和channel属性会一直为null)&lt;/li&gt;
&lt;li&gt;…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Worker 没有浏览器上下文，故没有 window/document/parent 等全局变量，详细列表可见：&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Functions_and_classes_available_to_workers&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/API/Web&lt;em&gt;Workers&lt;/em&gt;API/Functions&lt;em&gt;and&lt;/em&gt;classes&lt;em&gt;available&lt;/em&gt;to_workers&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;SharedWorker&lt;/h3&gt;
&lt;p&gt;SharedWorker 是一种特殊的 Worker，在同源策略下，可以从 windows，iframes 和 workers 等不同的上下文中访问到&lt;/p&gt;
&lt;p&gt;SharedWorker 的通信机制和Worker类似，但比Worker多了一层port，在其他上下文中，通过 port.postMessage() 和 port.onmessage 来传递数据，通过 port.start() 来建立连接，而在worker内，则通过SharedWorkerGlobalScope.onconnect 来监听连接请求&lt;/p&gt;
&lt;p&gt;最简示例代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// main-1/2/3.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; myWorker &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SharedWorker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;worker.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

myWorker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
$input&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onchange&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    myWorker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
myWorker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onmessage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// worker.js&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;onconnect&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ports&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    
    port&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;message&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        port&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    port&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;ServiceWorker&lt;/h3&gt;
&lt;p&gt;…&lt;/p&gt;</content:encoded></item><item><title><![CDATA[D3: 力导向图]]></title><description><![CDATA[What 力导向图是D3的图形布局中非常热门的一种]]></description><link>https://silentmaker.github.io/blog/d3-force-directed-graph/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/d3-force-directed-graph/</guid><pubDate>Wed, 20 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;What&lt;/h3&gt;
&lt;p&gt;力导向图是D3的图形布局中非常热门的一种&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Fetch vs Axios]]></title><description><![CDATA[Fetch]]></description><link>https://silentmaker.github.io/blog/fetch-vs-axios/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/fetch-vs-axios/</guid><pubDate>Sat, 02 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Fetch&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[Optimizing Runtime Performance]]></title><description><![CDATA[Runtime Performance]]></description><link>https://silentmaker.github.io/blog/optimizing-runtime-performance/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/optimizing-runtime-performance/</guid><pubDate>Sat, 26 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Runtime Performance&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[页面渲染问题总结]]></title><description><![CDATA[很多性能优化比较关注于Page Load Time (PLT)，比如经典的雅虎14条中提到的合并请求和压缩静态资源等等，但除去网站加载的时间以外，用户大部分的时间是花在与页面的交互上 因此页面渲染的性能也是关键优化点，包括UI反馈和动画等，最终目标都是提供给用户60fps…]]></description><link>https://silentmaker.github.io/blog/页面渲染问题总结/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/页面渲染问题总结/</guid><pubDate>Fri, 25 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;很多性能优化比较关注于Page Load Time (PLT)，比如经典的雅虎14条中提到的合并请求和压缩静态资源等等，但除去网站加载的时间以外，用户大部分的时间是花在与页面的交互上&lt;/p&gt;
&lt;p&gt;因此页面渲染的性能也是关键优化点，包括UI反馈和动画等，最终目标都是提供给用户60fps的体验，屏幕刷新的每一帧只有16ms的时间，任何超过这个时间的计算都会导致掉帧，而帧的生命周期中有很多影响因素，常见的问题可以分为以下几类：&lt;/p&gt;
&lt;h5&gt;大范围的布局和样式失效 - Style Invalidation&lt;/h5&gt;
&lt;p&gt;改变元素的class，或者通过js直接修改样式，或者CSS Transition和CSS Animation都会导致浏览器无效掉部分Render Tree，而性能问题的关键在于有多大范围的样式失效了&lt;/p&gt;
&lt;p&gt;最糟糕的情况下，有可能整个document的样式都失效了，导致一帧内浏览器要重新计算全部样式，再加上这个情况持续地发生在某个动画的每一帧里，比如说滚动，那么掉帧将会十分严重，一般我们可以通过chrome devtool里的perfomance面板，记录分析一帧里的layout和recaculate style的用时来确定问题&lt;/p&gt;
&lt;p&gt;对于这种问题，常用的方法主要有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;尽量通过无需修改样式的方法来达成效果；&lt;/li&gt;
&lt;li&gt;实在需要改变样式的情况下，让修改的层级越少越好，父节点的变化会导致子树的样式失效；&lt;/li&gt;
&lt;li&gt;将动画的提升到同个layer，可以通过chrome devtool的layer面板查看页面的分层情况；&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;布局颠簸 - Layout Thrashing&lt;/h5&gt;
&lt;p&gt;计算元素的分布位置是很消耗浏览器性能的，也就是常说的layout过程&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; paragraphs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; p&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; para &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; paragraphs&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetWidth&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    para&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;px&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;比如这样在循环中重复地读和写影响layout的属性，这会导致每次读的时候，浏览要重新计算layout来得到最新的位置值&lt;/p&gt;
&lt;p&gt;不过这个问题是很好发现的，在chrome中记录和分析帧的时候，如果看到黄色感叹号，并且带有forced synchronous layout的说明字样，就表示你的代码中有这样的问题，需要及时调整计算逻辑&lt;/p&gt;
&lt;h5&gt;布局属性动画 - Animating Layout Properties&lt;/h5&gt;
&lt;p&gt;如果你的动画中改变了width、height 或者 position 等属性，浏览器在实际的动画帧里会从layout布局开始计算，然后才是paint绘制和composite合成，整个过程是比较耗时的，这个时候如果还有一些其他js的计算逻辑，就会很容易产生掉帧&lt;/p&gt;
&lt;p&gt;如果你的动画只修改了background、color或者shadow，那你的时间消耗就会变成仅用于paint和composite，而如果你只修改transform或者opacity，则浏览器只需要进行composite，最好的情况是你的动画能只发生在合成阶段， 一般这类变化都支持GPU支持，所以性能更佳&lt;/p&gt;
&lt;h5&gt;绘制风暴 - Paint Storms&lt;/h5&gt;
&lt;p&gt;这个问题与样式失效类似，都是因为不必要的渲染时间，区别是这类问题主要指的是paint过程的消耗，一般来说是因为修改了会导致重绘的属性，同时因为不合理的布局，导致重绘的区域几乎是整个屏幕，这点可能通过打开chrome devtool里rendering的show paint rectangles来确认&lt;/p&gt;
&lt;p&gt;很多使用transform的动画有这个问题，因为fixed、transform都不一定能保证将动画区域提升为一个独立的层，常见的hack方法是translateZ(0) 或者 backface-visibility: hidden，当然最好的方法还是避免触发重绘&lt;/p&gt;
&lt;h5&gt;绘制超载 - Expensive Paints&lt;/h5&gt;
&lt;p&gt;有时候掉帧的原因仅仅是有特定某些帧的时间消耗过大，这类问题同样还是可以通过帧的记录分析来排查，最常见的一个情况是图片的缩放，特别是缩放绑定在了滚动事件的回调里，同时图片文件还很大的时候，帧的性能消耗就会很大&lt;/p&gt;
&lt;p&gt;可以能能过打开rendering下面的enable continuous page repainting来帮助你找到这类问题，打开这个开关主要作用是让浏览器在每一帧都进行完整的重绘，从而让有绘制问题的帧更加明显&lt;/p&gt;
&lt;h5&gt;事件监听超载 - Expensive Input Handlers&lt;/h5&gt;
&lt;p&gt;有些时候用户的输入类事件监听器也会有性能问题，比如scrolls、touch、mouse 和 orientation事件，因为这类事情的触发频率有可能很高，如果一帧里事件回调函数要执行很多次，就会导致掉帧&lt;/p&gt;
&lt;p&gt;最简单可行的方法是debounce事件回调，对于同一帧里的多次回调只安排一次执行：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onScroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;evt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    z&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lastScrollY &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollY&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 保存好需要的数据&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scheduledAnimationFrame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 避免多次执行&lt;/span&gt;
    scheduledAnimationFrame &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updatePage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;scroll&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; onScroll&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;动画撞上垃圾回收 - Garbage Collection in Animations&lt;/h5&gt;
&lt;p&gt;一般来说GC会暂停主线程的所有工作直到垃圾回收完毕，而其本身耗时一直没有什么优化，并且从开发者角度说GC的发生实在是不好预测，如果它刚好发生的动画的一半，那就会导致动画的卡顿，chrome devtool里的memory profiler工具可以帮助你分析这类情况&lt;/p&gt;
&lt;p&gt;要避免这个问题，通常要注意的就是尽量不要在动画过程中创建一堆新的对象，最理想的情况是在循环和动画中都只复用旧的对象来完成工作，越少创建对象，就越能减少撞上垃圾回收的概率&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Babel笔记]]></title><description><![CDATA[Babel 是 Javascript 的转译工具，可以帮助开发者在写代码的时候可以使用更先进的语法和API，并在运行前转译为更具兼容性的语法 确立  ECMAScript  标准语法的五阶段: Stage 0：strawman - “稻草人” Stage 1：proposal…]]></description><link>https://silentmaker.github.io/blog/Babel笔记/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/Babel笔记/</guid><pubDate>Sun, 20 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;Babel&lt;/strong&gt;是 Javascript 的转译工具，可以帮助开发者在写代码的时候可以使用更先进的语法和API，并在运行前转译为更具兼容性的语法&lt;/p&gt;
&lt;p&gt;确立 &lt;strong&gt;ECMAScript&lt;/strong&gt; 标准语法的五阶段:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Stage 0：strawman - “稻草人”&lt;/li&gt;
&lt;li&gt;Stage 1：proposal - 提议&lt;/li&gt;
&lt;li&gt;Stage 2：draft - 草稿，并且必须包含2个实验性的实现，其中一个可以是用转译器实现的，如Babel&lt;/li&gt;
&lt;li&gt;Stage 3：candidate - 至少要有2个符合规范的具体实现&lt;/li&gt;
&lt;li&gt;Stage 4：finished - 完成&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;Babel6&lt;/h4&gt;
&lt;p&gt;Babel6增加了以下配置项：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;.babelrc&lt;/em&gt; 配置文件&lt;/li&gt;
&lt;li&gt;&lt;em&gt;plugins&lt;/em&gt; 配置，所有东西插件化&lt;/li&gt;
&lt;li&gt;&lt;em&gt;presets&lt;/em&gt; 配置，默认转译jsx和ES6语法，不同的preset其实就是一系列插件的组合&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;同时Babel6后也对代码进行了拆分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;babel-core&lt;/em&gt;：核心功能，比如transfrom、transfromFile、transformFileSync 和 transformFromAst，主要用于生成编译代码和抽象语法树（AST，Abstract Syntax Tree）&lt;/li&gt;
&lt;li&gt;&lt;em&gt;babel-cli&lt;/em&gt;：命令行工具，用于输出转译代码，同时会安装babel-node&lt;/li&gt;
&lt;li&gt;&lt;em&gt;babel-node&lt;/em&gt;：用于启动REPL（Read-Eval-Print-Loop）,同时会安装babel-polyfill&lt;/li&gt;
&lt;li&gt;&lt;em&gt;babel-polyfill&lt;/em&gt;：引入新的内置对象如Promise和静态方法如Array.from以供使用&lt;/li&gt;
&lt;li&gt;&lt;em&gt;babel-register&lt;/em&gt;：模块注册器，在底层改写node的require方法，不带后缀情况下会默认转译.es6、.es、.jsx和.js后缀的模块，其实等同于babel-core/register模块，也可以单独引入&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;插件&lt;/h4&gt;
&lt;p&gt;官方插件列表：&lt;a href=&quot;http://babeljs.io/docs/en/plugins/&quot;&gt;http://babeljs.io/docs/en/plugins/&lt;/a&gt;
语法层次的转译，和api层次的垫片(polyfill)，都是通过一系列插件来实现
external-helpers则提供了常见的工具函数，比如Object.extend&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;plugins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;transform-es2015-arrow-functions&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;spec&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;transform-es2015-spread&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;transform-es2015-for-of&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;transform-object-assign&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;external-helpers&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;如上引入时，helper 和 polyfill 的引用都是模块级别的，无法避免在多个文件内重复引用
故推荐可用 transform-runtime 来自动引入 polyfill 和 helper，同时需要依赖 babel-runtime：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;plugins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;transform-runtime&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;helpers&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;polyfill&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;regenerator&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;em&gt;babel-runtime&lt;/em&gt; 的组成：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;core-js&lt;/em&gt;，通过ES3实现了大部分ES5/6/7的垫片&lt;/li&gt;
&lt;li&gt;&lt;em&gt;generator&lt;/em&gt;，facebook用于实现生成器函数的库&lt;/li&gt;
&lt;li&gt;&lt;em&gt;helpers&lt;/em&gt;，基本等同于babel-external-helpers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;transform-runtime&lt;/em&gt; 和 &lt;em&gt;babel-polyfill&lt;/em&gt; 引入垫片的区别：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前者是按需引入，后者是全局性的，并且会改写一些实例方法，如Array.prototype.includes&lt;/li&gt;
&lt;li&gt;后者更全能也更稳妥，提供了完整的ES6+环境，官方也建议全局引入&lt;/li&gt;
&lt;li&gt;建议开发库或框架时引入不会前者，不会污染全局作用域；大型web应用则推荐后者，全局引入后者打包后的文件体积可能比各模块重复引入体积更小&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Preset配置&lt;/h4&gt;
&lt;p&gt;官方已经不推荐使用{ “presets”: [“es2015”] }的方式，而是用&lt;em&gt;babel-preset-env&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;presets&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;env&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;browsers&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;last 2 versions&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;safari &gt;= 7&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;node&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;6.10&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;current&quot;表示当前版本node&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;modules&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;commonjs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;include&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;transform-es2015-arrow-functions&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 强制开启的模块&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;exclude&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;transform-es2015-for-of&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 禁用的模块&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;useBuiltIns&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;useBuiltIns为true，则项目中必须引入babel-ployfill，文件大小会减少很多&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;其他Polyfill解决方案&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://polyfill.io/v2/docs/&quot;&gt;https://polyfill.io/v2/docs/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;polyfill.io 的解决方案是通过解析请求的User Agent信息返回与浏览器相对应的垫片文件，只需要无增加一个script标签&lt;/p&gt;</content:encoded></item><item><title><![CDATA[前端工程师的一专多长]]></title><description><![CDATA[…]]></description><link>https://silentmaker.github.io/blog/前端工程师的一专多长/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/前端工程师的一专多长/</guid><pubDate>Thu, 17 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h5&gt;技术的道路&lt;/h5&gt;
&lt;p&gt;技术的学习状态可以分为四种：学习技能 - 得出成果 - 提炼技术 - 升华为哲学&lt;/p&gt;
&lt;p&gt;在工作中，前端是一个与设计、产品、后台、运营以及用户都有很多交集的领域，导致前端工作内容常常很广泛，比如在前端通常需要能够指出不好的体验设计或者交互设计，要与后台一起规范化接口的设计，要与运营一同考虑用户的打开场景，对运营创意提供实现方案和斟酌成本，前端&lt;/p&gt;
&lt;h5&gt;工具化思维&lt;/h5&gt;
&lt;p&gt;工具化的主要目的是提升效率，节约人力成本&lt;/p&gt;
&lt;p&gt;现在很多团队都采用螺旋瀑布式开发的开发，产生了很多重复造轮子的工具，也就存在可以通过工具化来优化的地方，举一些公司内部的例子来看：&lt;/p&gt;
&lt;p&gt;比如设计需求的管理，包括公司已购版权的图片或者字体，还有通用的VI设计，以前没有统一的平台可以获取想着信息，而且各个团队自己去抢设计资源，直到后来有了 dcloud设计云，  &lt;/p&gt;
&lt;p&gt;比如在公司内外部发邮件，通过 signature.oa.com生成自己的邮件签名，可以让邮件沟通更加规范和权威&lt;/p&gt;
&lt;p&gt;比如CDC的图片自动提交系统，自动压缩，自动生成雪碧图，设计师更新图片后便可以自行操作，减少了工作环节和沟通成本&lt;/p&gt;
&lt;p&gt;比如鲁班智能设计系统，节约了很多设计人力，满足了很多常规和紧急的运营需求&lt;/p&gt;
&lt;h5&gt;从技术到哲学&lt;/h5&gt;
&lt;p&gt;做技术，和做生意，甚至和炒股都有一些共性的地方存在，不同领域的技术常常也有可以相互学习借鉴的点&lt;/p&gt;
&lt;p&gt;很多事情的出发点都是成本和利润，比如从前端的文件优化的大小和数量中去抠数据，计算出节约的带宽成本；从转化率监控的数据中，得出带来利润的增长；从PV和UV的日线分析出用户活跃度的趋势&lt;/p&gt;</content:encoded></item><item><title><![CDATA[GraphQL: Basics]]></title><description><![CDATA[Definition GraphQL is a query language proposed by Facebook. Why GraphQL]]></description><link>https://silentmaker.github.io/blog/graphql-intro/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/graphql-intro/</guid><pubDate>Fri, 20 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;Definition&lt;/h3&gt;
&lt;p&gt;GraphQL is a query language proposed by Facebook.&lt;/p&gt;
&lt;h3&gt;Why GraphQL&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[前端监控系统总结]]></title><description><![CDATA[后端监控  - 采集服务器以及链路上各种中间件的数据
 前端监控  - 运行在用户终端上的代码 最简实现：通过 window.onerror 采集到所有的未捕获异常，并通过 new Image() 的方式构造一个 404 的 HTTP 请求，最后在服务端实时过滤 access…]]></description><link>https://silentmaker.github.io/blog/前端监控系统总结/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/前端监控系统总结/</guid><pubDate>Fri, 06 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;后端监控&lt;/strong&gt; - 采集服务器以及链路上各种中间件的数据
&lt;strong&gt;前端监控&lt;/strong&gt; - 运行在用户终端上的代码&lt;/p&gt;
&lt;p&gt;最简实现：通过 window.onerror 采集到所有的未捕获异常，并通过 new Image() 的方式构造一个 404 的 HTTP 请求，最后在服务端实时过滤 access.log 中匹配的请求并计数即可&lt;/p&gt;
&lt;h3&gt;采集&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;可采集的异常&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;HTML 标签异常、CSS 展现异常、样式、图片、脚本文件的请求异常、脚本执行异常、网速很慢、运营商拦截等问题很难规避&lt;/p&gt;
&lt;p&gt;文本和按钮没有对齐、文本折行，仅仅是展示上的问题，用户自己就能觉察和规避，不影响正常使用&lt;/p&gt;
&lt;p&gt;主要应监控的异常，如交互逻辑错误、获取填充数据提交导致的脚本错误，会立刻终止用户的下一步操作，这类异常用户不知道是什么问题导致脚本异常，甚至不知道已经发生了异常&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;同源（ 协议、域名、端口）策略下&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;全局异常：window.onerror = function (message, url, lineNo, columnNo, error)，有兼容性问题&lt;/li&gt;
&lt;li&gt;Ajax 上下文：patch open send方法&lt;/li&gt;
&lt;li&gt;操作上下文：记录tagName和关键attribute，比如select的value和text&lt;/li&gt;
&lt;li&gt;页面依赖：记录类库的版本信息，简单方法可以遍历一下window对象，看看哪些属性包含有 Version、version、VERSION字段&lt;/li&gt;
&lt;li&gt;自定义数据：对开发者有用的字段，比如用lang字段区分语言环境&lt;/li&gt;
&lt;li&gt;浏览器数据：一般用于定位兼容性问题， 这些通过 userAgent 获得osType、browserType、browserVersion就可以了&lt;/li&gt;
&lt;li&gt;动态加载的内容：对 img、link、script 可以通过给标签添加 onerror 回调函数&lt;/li&gt;
&lt;li&gt;其他：屏幕的分辨率、错误发生的客户端时间信息，在流量允许的范围内，应该提供尽可能多的环境数据&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;非同源策略（如CDN）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;非同源脚本中的报错在 window.onerror 中只会出现 script error，要解决这个问题，需要在服务器端增加 Access-Control-Allow-Origin 的配置，并且在客户端脚本增加 crossorigin=”anonymous”属性，不过这个做法会有兼容性问题&lt;/p&gt;
&lt;p&gt;其他的方法还有同域化，patch原生方法加入try catch，babel自动patch&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;框架层解决方案&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Angular：ErrorHandler&lt;/li&gt;
&lt;li&gt;Vue：Vue.config.errorHandler&lt;/li&gt;
&lt;li&gt;React：componentDidCatch&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;数据处理&lt;/h3&gt;
&lt;p&gt;一个重复的错误，不应该不断上报，否则会造成数据冗余和流量浪费，因此，应该对上报的内容频率加以限制&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;随机上报 - 不是所有的错误都上报，满足给定条件的才上报&lt;/li&gt;
&lt;li&gt;合并上报 - 当出现异常时，给定一个队列和延时。如果延时期内又出现了新的错误，就加入到错误队列中。延时期到或者队列达到最大容量，把队列中的所有异常信息集中上报，还可以将公共的信息，比如依赖信息、浏览器相关、用户自定义数据都可以合并到一起&lt;/li&gt;
&lt;li&gt;服务端限制 - 客户端总是不可控的，当客户端在单位时间内上报的错误数超过限制时，可以返回429（Too Many Request）&lt;/li&gt;
&lt;li&gt;数据压缩 - 如果要采集的数据量不大，可以明文上报，对于合并上报的数据量可能要十几Kb，对于PV大的站点，产生的流量还是很可观的，所以要压缩上报，比如 lz-string 之类的字符串压缩类库&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;数据差异化&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;相同的异常，在不同浏览器下，message、columnNo、error 都有可能不一致，所以要对信息进行normalize，
比如 raven.js 会使用 TraceKit 来 normalize error strings，其他类似的库还有 stacktrace.js&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;数据持久化&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;传统的监控服务一般都会使用 MySQL 等数据库进行数据持久化，但当数据量指数级增长时，MySQL 这种 OLTP 数据库已经不再适合用来提供监控数据分析服务。&lt;/p&gt;
&lt;h3&gt;分析 &amp;#x26; 告警&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;找到问题触发的特征，比如是否集在某个页面或者某种浏览器等等&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;仅仅通过报错数的多少不足以判断系统是否稳定，某天的数据出现暴增，可能是因为页面的访问量出现暴增，或者有爬虫用户&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;异常波动一定有元凶：新发布的版本存在 Bug，后端接口突然故障&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;绝大多数的监控平台都提供按规则报警的能力，报警的问题在于随着业务的不断发展，原本配置的规则将会出现阈值过低或过高的问题，若阈值配置过低，则会产生大量的误报，继而引起整个监控能力的报警疲劳&lt;/p&gt;
&lt;p&gt;解决上述问题，可以引入一些简单的数学模型来解决时序数据的异常识别工作，以常见的高斯分布（正态分布）为例，利用 3-sigma 原则可以快速判断某一时刻的报错数是否满足概率分布，继而可以产生报警&lt;/p&gt;</content:encoded></item><item><title><![CDATA[函数式编程基本概念]]></title><description><![CDATA[编程范式  是指一种基于基本原则来思考如何构建软件的方式，常见的范式还有  面向对象编程 、 面向过程编程  和  函数式编程 函数式编程 （Functional Programming…]]></description><link>https://silentmaker.github.io/blog/函数式编程基本概念/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/函数式编程基本概念/</guid><pubDate>Tue, 06 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;编程范式&lt;/em&gt; 是指一种基于基本原则来思考如何构建软件的方式，常见的范式还有 &lt;em&gt;面向对象编程&lt;/em&gt;、&lt;em&gt;面向过程编程&lt;/em&gt; 和 &lt;em&gt;函数式编程&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;函数式编程&lt;/em&gt;（Functional Programming）是通过编写&lt;em&gt;纯函数&lt;/em&gt;，避免&lt;em&gt;共享状态&lt;/em&gt;，避免&lt;em&gt;可变数据&lt;/em&gt;，和避免&lt;em&gt;副作用&lt;/em&gt;，从而构建软件的过程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;函数式编程是声明性的而不是命令式的，应用程序状态是通过纯函数来流转的&lt;/li&gt;
&lt;li&gt;函数式编程通过不可变数据结构和纯函数来从现在数据中得到新数据&lt;/li&gt;
&lt;li&gt;函数式的功能代码往往更简洁，更容易预测和测试&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;纯函数（Pure Function）&lt;/h4&gt;
&lt;p&gt;纯函数一般指符合下面两个条件的函数：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;给定相同输入时输出也必定相同&lt;/li&gt;
&lt;li&gt;没有副作用&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;状态共享（Shared State）&lt;/h4&gt;
&lt;p&gt;状态共享一般指：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;存在于共享作用域中的任何变量，对象或者内存空间&lt;/li&gt;
&lt;li&gt;作用域与作用域之间传递的属性&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;状态共享可能导致的问题有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;执行时间的先后可能会导致竞争状态&lt;/li&gt;
&lt;li&gt;更改调用函数的顺序可能会导致级联失败，即作用于共享状态的函数与时序有关&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;不可变性（Immutable）&lt;/h4&gt;
&lt;p&gt;不可变对象是指一旦创建后则不可以再修改的对象
Javascript中暂无现成的不可变对象：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;const 声明创建的对象，不可重新赋值，但可以随意修改属性&lt;/li&gt;
&lt;li&gt;调用 Object.preventExtensions(obj) 操作对象，不可拓展新属性，严格模式下会报错，否则会静默失败&lt;/li&gt;
&lt;li&gt;调用 Object.seal() 操作对象，现有属性密封（属性描述符configurable为false）且不可拓展新属性&lt;/li&gt;
&lt;li&gt;调用 Object.freeze() 操作对旬，属性密封且不可拓展，现在属性configurable和writable都为false
用字面量声明的对象属性一般writable、enumerable 和 configurable 都为true
用 Object.defineProperty() 声明的对象属性中未定义的描述符属性为false&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在很多函数式编程语言中都存在称为 trie 的特殊不可以变数据结构，trie可以通过结构共享来处理对象中不变的那部分结构，
使得内存消耗更低，很多操作的性能也会大大提升，javascript中也有对实现此类结构的尝试，比如immutable.js和mori&lt;/p&gt;
&lt;h4&gt;副作用（Side Effect）&lt;/h4&gt;
&lt;p&gt;常见的副作用包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;修改任何外部变量或对象属性&lt;/li&gt;
&lt;li&gt;输出到console、屏幕或者文件&lt;/li&gt;
&lt;li&gt;输出到网络&lt;/li&gt;
&lt;li&gt;触发任何外部处理&lt;/li&gt;
&lt;li&gt;调用其他有副作用的函数
将副作用和程序逻辑的其他部分隔离开来，可以使得软件的拓展、重构、调试、测试和维护变得更容易
很多前端框架也会鼓励开发者分别在独立的、低耦合的模块中管理状态和组件渲染&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;高阶函数（High-Order Function）与可复用性（Reusability）&lt;/h4&gt;
&lt;p&gt;高阶函数是指把函数作为参数的函数，或者返回一个函数的函数，其常用场景包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用回调或者promise的独立操作或者异步控制流&lt;/li&gt;
&lt;li&gt;创建可以接受多种数据类型的工具函数&lt;/li&gt;
&lt;li&gt;选取部分参数作用于函数，或者为了复用性进行函数库里化，或者用于函数组合&lt;/li&gt;
&lt;li&gt;取一系列函数，并组合其返回结果&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;容器（Container），函子（Functor），列表（List）和流（Stream）&lt;/h4&gt;
&lt;p&gt;函子是指具有可映射性的容器，比如Array.prototype.map()的容器一般是数组，但也可以是任何可迭代的对象
也即任何提供了映射接口的列表，随时间推移而变化的列表就可以称为流，流也可以和列表用相同的处理函数&lt;/p&gt;
&lt;h4&gt;声明式（Declarative）与命令式（Imperative）&lt;/h4&gt;
&lt;p&gt;声明式的程序只描述得出想要的结果的步骤或者控制流，即How to do
命令式的程序则主要强调对数据流的变化，即What to do
在 Javascript 中，声明式和命令式的区别可以体现在分别用for和map去改变一个数组
一般而言，命令式更依赖于语句，而声明式更依赖于表达式&lt;/p&gt;</content:encoded></item><item><title><![CDATA[OpenConnectSever搭建VPN总结]]></title><description><![CDATA[首先需要购置一台VPN用主机和自用域名，将域名 DOMAIN 的 A/AAAA 记录指向该主机，安装nginx并启动，主机推荐腾讯云香港区域的S1系列（CentOS） Let’s Encrypt 为了内容传输的隐密性，可以采用 Let’s Encrypt…]]></description><link>https://silentmaker.github.io/blog/用OpenConnectSever搭建VPN/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/用OpenConnectSever搭建VPN/</guid><pubDate>Fri, 26 Jan 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;首先需要购置一台VPN用主机和自用域名，将域名 DOMAIN 的 A/AAAA 记录指向该主机，安装nginx并启动，主机推荐腾讯云香港区域的S1系列（CentOS）&lt;/p&gt;
&lt;h3&gt;Let’s Encrypt&lt;/h3&gt;
&lt;p&gt;为了内容传输的隐密性，可以采用 Let’s Encrypt 来获取合法的服务器证书，自建 CA 并签发服务器证书固然是可行方案，但需要在每台设备上都信任该自建 CA，较为麻烦且不安全&lt;/p&gt;
&lt;p&gt;TLS/SSL 协议的允许连接双方都对端做身份认证，对服务器端认证一般采用证书认证的，客户端认证一般采用用户名+密码的认证，也可以采用证书认证的方式&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;获取证书&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;测试时建议加上 —test-cert 以免用完 Let’s Encrypt 的证书获取速率限制&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;yum &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; letsencrypt
letsencrypt certonly // 为DOMAIN申请证书&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;自动更新证书&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;添加以下 cron 脚本至 /etc/cron.monthly/certbot，实现每月自动更新&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/bin/bash&lt;/span&gt;
WD&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/root/certbot&quot;&lt;/span&gt;
LOG&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${WD}&lt;/span&gt;/cron.log&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; -p &lt;span class=&quot;token variable&quot;&gt;$WD&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$LOG&lt;/span&gt;
certbot renew &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$LOG&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;生成用户证书&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;用户证书只需 ocserv 信任 CA 即可，因此可以使用自建 CA 签发证书，将以下脚本保存到 /etc/ocserv/certs/，然后运行 &lt;code class=&quot;language-text&quot;&gt;./ocm generate USERNAME&lt;/code&gt; 即可直接生成用户证书 USERNAME.p12&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/bin/bash&lt;/span&gt;

init&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    WORK&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./work&quot;&lt;/span&gt;
    CA_TMPL&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${WORK}&lt;/span&gt;/ca.tmpl&quot;&lt;/span&gt;
    CA_KEY&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${WORK}&lt;/span&gt;/ca-key.pem&quot;&lt;/span&gt;
    CA_CERT&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./ca.pem&quot;&lt;/span&gt;
    USER&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;&quot;&lt;/span&gt;
    USER_TMPL&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${WORK}&lt;/span&gt;/&lt;span class=&quot;token variable&quot;&gt;${USER}&lt;/span&gt;.tmpl&quot;&lt;/span&gt;
    USER_KEY&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${WORK}&lt;/span&gt;/&lt;span class=&quot;token variable&quot;&gt;${USER}&lt;/span&gt;-key.pem&quot;&lt;/span&gt;
    USER_CERT&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${WORK}&lt;/span&gt;/&lt;span class=&quot;token variable&quot;&gt;${USER}&lt;/span&gt;.pem&quot;&lt;/span&gt;
    USER_P12&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./&lt;span class=&quot;token variable&quot;&gt;${USER}&lt;/span&gt;.p12&quot;&lt;/span&gt;
    REVOKED_CERT&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${WORK}&lt;/span&gt;/revoked.pem&quot;&lt;/span&gt;
    CRL_TMPL&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${WORK}&lt;/span&gt;/crl.tmpl&quot;&lt;/span&gt;
    CRL_CERT&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./crl.pem&quot;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Ensure working directory&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -d &lt;span class=&quot;token variable&quot;&gt;$WORK&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; -p &lt;span class=&quot;token variable&quot;&gt;$WORK&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# CA Template&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;token variable&quot;&gt;$CA_TMPL&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; _EOF_ &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$CA_TMPL&lt;/span&gt;
cn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;VPN CA&quot;&lt;/span&gt;
serial &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 1
expiration_days &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 3650
ca
signing_key
cert_signing_key
crl_signing_key
_EOF_

    &lt;span class=&quot;token comment&quot;&gt;# CA Private Key&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;token variable&quot;&gt;$CA_KEY&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; certtool --generate-privkey --outfile &lt;span class=&quot;token variable&quot;&gt;$CA_KEY&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# CA Certificate&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;token variable&quot;&gt;$CA_CERT&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; certtool --generate-self-signed --load-privkey &lt;span class=&quot;token variable&quot;&gt;$CA_KEY&lt;/span&gt; --template &lt;span class=&quot;token variable&quot;&gt;$CA_TMPL&lt;/span&gt; --outfile &lt;span class=&quot;token variable&quot;&gt;$CA_CERT&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

generate&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# User Template&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; _EOF_ &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$USER_TMPL&lt;/span&gt;
cn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$USER&lt;/span&gt;&quot;&lt;/span&gt;
expiration_days &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 3650
signing_key
tls_www_client
_EOF_

    &lt;span class=&quot;token comment&quot;&gt;# User Private Key&lt;/span&gt;
    certtool --generate-privkey --outfile &lt;span class=&quot;token variable&quot;&gt;$USER_KEY&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# User Certificate&lt;/span&gt;
    certtool --generate-certificate --load-privkey &lt;span class=&quot;token variable&quot;&gt;$USER_KEY&lt;/span&gt; --load-ca-certificate &lt;span class=&quot;token variable&quot;&gt;$CA_CERT&lt;/span&gt; --load-ca-privkey &lt;span class=&quot;token variable&quot;&gt;$CA_KEY&lt;/span&gt; --template &lt;span class=&quot;token variable&quot;&gt;$USER_TMPL&lt;/span&gt; --outfile &lt;span class=&quot;token variable&quot;&gt;$USER_CERT&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Export User Certificate&lt;/span&gt;
    certtool --to-p12 --pkcs-cipher 3des-pkcs12 --load-privkey &lt;span class=&quot;token variable&quot;&gt;$USER_KEY&lt;/span&gt; --load-certificate &lt;span class=&quot;token variable&quot;&gt;$USER_CERT&lt;/span&gt; --outfile &lt;span class=&quot;token variable&quot;&gt;$USER_P12&lt;/span&gt; --outder
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

revoke&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# Copy User Certificate to Revoked Certificate&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$USER_CERT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$REVOKED_CERT&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# CRL Template&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;token variable&quot;&gt;$CRL_TMPL&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; _EOF_ &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$CRL_TMPL&lt;/span&gt;
crl_next_update &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 3650
crl_number &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 1
_EOF_

    &lt;span class=&quot;token comment&quot;&gt;# CRL Certificate&lt;/span&gt;
    certtool --generate-crl --load-certificate &lt;span class=&quot;token variable&quot;&gt;$REVOKED_CERT&lt;/span&gt; --load-ca-privkey &lt;span class=&quot;token variable&quot;&gt;$CA_KEY&lt;/span&gt; --load-ca-certificate &lt;span class=&quot;token variable&quot;&gt;$CA_CERT&lt;/span&gt; --template &lt;span class=&quot;token variable&quot;&gt;$CRL_TMPL&lt;/span&gt; --outfile &lt;span class=&quot;token variable&quot;&gt;$CRL_CERT&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
    generate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        init &lt;span class=&quot;token variable&quot;&gt;$2&lt;/span&gt;
        generate
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    revoke&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        init &lt;span class=&quot;token variable&quot;&gt;$2&lt;/span&gt;
        revoke
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    *&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;\
Usage:
    &lt;span class=&quot;token variable&quot;&gt;$0&lt;/span&gt; generate USER
    &lt;span class=&quot;token variable&quot;&gt;$0&lt;/span&gt; revoke USER
&quot;&lt;/span&gt;
esac&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;ocserv&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;安装 &amp;#x26; 配置&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;yum &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; ocserv&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;复制配置文件：cp /opt/ocserv-${VERSION}/doc/sample.config /etc/ocserv/ocserv.conf
并修改以下项：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 打开 PMTUD&lt;/span&gt;
try-mtu-discovery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# 以 CN 为用户 ID。（用户证书认证）&lt;/span&gt;
cert-user-oid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 2.5.4.3

&lt;span class=&quot;token comment&quot;&gt;# 服务器证书与密钥（Let&apos;s Encrypt）&lt;/span&gt;
server-cert &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; /etc/letsencrypt/live/DOMAIN/fullchain.pem
server-key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; /etc/letsencrypt/live/DOMAIN/privkey.pem

&lt;span class=&quot;token comment&quot;&gt;# 如有需要，可修改 VPN 端口&lt;/span&gt;
tcp-port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 443
udp-port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 443

&lt;span class=&quot;token comment&quot;&gt;# 修改 VPN 子网网段（避免和常用内网网段相同）&lt;/span&gt;
ipv4-network &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 192.168.111/24

&lt;span class=&quot;token comment&quot;&gt;# 修改 DNS&lt;/span&gt;
dns &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 8.8.8.8
dns &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 8.8.4.4

&lt;span class=&quot;token comment&quot;&gt;# 注释掉所有的 route，让服务器成为 gateway&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# route = 192.168.1.0/255.255.255.0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;配置防火墙和 IP Forwarding：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;iptables -t nat -A POSTROUTING -s 10.12.0.0/24 -o eth0 -j MASQUERADE
iptables -A FORWARD -s 10.12.0.0/24 -j ACCEPT

f （net.ipv4.ip_forward&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;1）
sysctl -p /etc/sysctl.conf&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;测试连接&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;修改 ocserv.conf 中的&lt;code class=&quot;language-text&quot;&gt;auth = &amp;quot;plain[passwd=/etc/ocserv/passwd]&amp;quot;&lt;/code&gt;，并通过 ocpasswd 创建用户&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;ocpasswd -c /etc/ocserv/passwd your-username&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;运行&lt;code class=&quot;language-text&quot;&gt;ocserv ocserv -f -d 1&lt;/code&gt;，在手机上通过 AnyConnect 尝试连接。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;配置证书认证&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;修改 /etc/ocserv/ocserv.conf 中的以下项：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;certificate&quot;&lt;/span&gt;
ca-cert &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; /etc/ocserv/certs/ca-cert.pem&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;重新测试连接&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;安装用户证书&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将生成的用户证书 USER.p12 复制到 nginx 的 WEBROOT&lt;/li&gt;
&lt;li&gt;打开 AnyConnect 客户端，切换到 Diagnostics - Certificates - Import User Certiticate…&lt;/li&gt;
&lt;li&gt;输入 &lt;a href=&quot;http://DOMAIN/USER.p12%EF%BC%8C%E7%84%B6%E5%90%8E%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81&quot;&gt;http://DOMAIN/USER.p12，然后输入密码&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;新建连接即可，地址为DOMAIN:443&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[关于大前端]]></title><description><![CDATA[大前端，简而言之，就是统一三端的开发( Web, Desktop, Mobile) 现在前端涉及的领域十分广泛，各种技术层出不穷—— 在多媒体领域，比如基于 WebRTC 的语音视频通话，基于P2P + CDN的流建媒体分发网络技术 在图形学领域，比如AR / VR…]]></description><link>https://silentmaker.github.io/blog/关于大前端/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/关于大前端/</guid><pubDate>Tue, 26 Dec 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;大前端，简而言之，就是统一三端的开发( Web, Desktop, Mobile)&lt;/p&gt;
&lt;p&gt;现在前端涉及的领域十分广泛，各种技术层出不穷——&lt;/p&gt;
&lt;p&gt;在多媒体领域，比如基于 WebRTC 的语音视频通话，基于P2P + CDN的流建媒体分发网络技术&lt;/p&gt;
&lt;p&gt;在图形学领域，比如AR / VR 的应用，数据可视化的各类框架如Echarts/D3，以及基于webGL/Canvas的3D游戏&lt;/p&gt;
&lt;p&gt;还有用前端技术开发各类客户端应用的框架，比如 Electron/RN/Weex/小程序&lt;/p&gt;
&lt;p&gt;浏览器端的能力也越来越强大，比如基于 ServiceWorker 的PWA应用，以及从 ASM.js 到 WebAssembly 的跨语言程序调用，甚至出现了机器学习领域的前端框架，比如ConvNetJS / deeplearn.js&lt;/p&gt;
&lt;p&gt;很多公司都推动了前后端的完全分离，逐渐用 React + Redux + React Native 等技术线统一Web前端、Android和iOS 以及微信平台的多端开发&lt;/p&gt;
&lt;p&gt;而现在业界常见的开发模式如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如果是 SPA 这种单页面，基本就是把 index.html 部署到 nginx 后，其他打包部署到 CDN ，包括 JS 、CSS 、图片和字体等&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;静态资源打包后会用webpack等构建工具加上文件内容哈希码，然后把 Cache-Control 的 max-age 设得很大，充分利用浏览器和 HTTP 协议的缓存，同时又保证及时更新&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果上面的方式首页白屏时间比较长的话，则会选择 nginx 后端部署 Node.js 做服务端渲染，解决首页白屏时间过长的问题；或者也可以用 Gatsby、next.js 之类静态页面生成工具提前生成静态页面，等待首页加载完成之后，再去动态加载其他页面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;最后就是前后端职能分离，前端只负责页面和前端效果的实现，开发之前先约定好 API 接口，接口规范可以用 RAP等工具来管理，而前端开发时自己用 JSONServer 模拟数据，最后发布都是打包传到 CDN 上去，这样会有跨域问题，一般可以用 CORS 解决，CORS 的浏览器兼容现在也挺好了&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;完全的前后端分离，更安全可靠，后端可以采用Go做微服务来实现&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而上述的架构图一般如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/Users/maxingcong/Code/blog/src/pages/images/common-structure.png&quot; alt=&quot;Common Structure&quot;&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[箭头函数总结]]></title><description><![CDATA[箭头函数用起来比较潮，但是原来的函数写法依旧有其用处，毕竟这两者还有很多不等价的情况 箭头函数缺失的东西 没有自己的 this ，其this是由执行时在当前scope中继承的 没有 prototype 属性，所以用于new，如 没有 arguments 对象，也没有 new…]]></description><link>https://silentmaker.github.io/blog/箭头函数总结/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/箭头函数总结/</guid><pubDate>Tue, 26 Dec 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;箭头函数用起来比较潮，但是原来的函数写法依旧有其用处，毕竟这两者还有很多不等价的情况&lt;/p&gt;
&lt;h4&gt;箭头函数缺失的东西&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;没有自己的 this ，其this是由执行时在当前scope中继承的&lt;/li&gt;
&lt;li&gt;没有 prototype 属性，所以用于new，如&lt;code class=&quot;language-text&quot;&gt;new (() =&amp;gt; {})&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;没有 arguments 对象，也没有 new.target 和 super&lt;/li&gt;
&lt;li&gt;不能做为生成器函数（generator function），但是可以返回generator&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;new.target&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;此属性用于判断函数是否被 new 操作符调用或者是否是构造函数，否则返回 undefined&lt;/p&gt;
&lt;h4&gt;什么时候不该用箭头函数&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;事件监听&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// this会指向window&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;对象方法&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    age&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    older&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;对象原型&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;Car&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;summarize&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`This car is &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;需要用于 arguments 对象&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;orderChildren&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; children &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// undefined&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;不过也可以通过别的方式来模拟 arguments 对象：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[事件循环]]></title><description><![CDATA[推荐视频： Philip Roberts  JSConf EU 2014 Erin Zimmer JSConf EU 2018 Jake Archibald JSConf.Asia 2018 Javascription的运行时环境其实最核心的两个部分就是Call Stack…]]></description><link>https://silentmaker.github.io/blog/事件循环原理/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/事件循环原理/</guid><pubDate>Sun, 26 Nov 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;推荐视频：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=8aGhZQkoFbQ&quot;&gt;Philip Roberts  JSConf EU 2014&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=u1kqx6AenYw&quot;&gt;Erin Zimmer JSConf EU 2018&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=cCOL7MC4Pl0&quot;&gt;Jake Archibald JSConf.Asia 2018&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Javascription的运行时环境其实最核心的两个部分就是Call Stack和Memory Heap，分别用于记录执行上下文和内存分配，而浏览器提供的则是web api，其中最重要的有DOM、Ajax和Timer&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/Users/maxingcong/Code/blog/src/pages/images/js-runtime.png&quot; alt=&quot;JS Runtime&quot;&gt;&lt;/p&gt;
&lt;p&gt;而事件循环好比一个不断循环的消费者，每次从任务队伍里拿出一个任务来执行，直到主线程被释放时才进入下一个事件循环，任务队伍也分几条，比如渲染队列，动画队列，微任务队列和宏任务队列&lt;/p&gt;
&lt;p&gt;渲染队列renderQueue负责在渲染的每一帧的进行layout、paint和composite等工作&lt;/p&gt;
&lt;p&gt;动画队列animateQueue则主要是requestAnimationFrame的回调&lt;/p&gt;
&lt;p&gt;微任务队列microTaskQueue则主要是Promise、process.nextTick、Object.observe和MutationObserver的回调&lt;/p&gt;
&lt;p&gt;宏任务队列macroTaskQueue则主要是setTimeout、setInterval、setImmediate和IO/UI渲染的事件回调&lt;/p&gt;
&lt;p&gt;用伪代码描述事件循环如下：&lt;/p&gt;
&lt;p&gt;浏览器端：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    queue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getNextQueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    task &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; queue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;microTaskQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;doMicroTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isRepaintTime&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        animateTasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; animateQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;copyTasks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; animateTasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;doAnimateTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       	&lt;span class=&quot;token function&quot;&gt;repaint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Node端：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;taskAreWaiting&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    queue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getNextQueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        task &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; queue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextTickQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;doNextTickTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;promiseQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;doPromiseTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;由于存在调用栈的原因，在代码中模拟触发事件回调，执行顺序可能会有所不同：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;micro1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;listener1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;micro2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;listener2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 用户点击 listener1 micro1 listener2 micro2&lt;/span&gt;
button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// listener1 listener2 micro1 micro2&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 因为click还在调用域中，主线程未释放&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[一个极简的Promise垫片实现]]></title><link>https://silentmaker.github.io/blog/一个极简的Promise垫片实现/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/一个极简的Promise垫片实现/</guid><pubDate>Wed, 06 Sep 2017 00:00:00 GMT</pubDate><content:encoded>&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_thens &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    then&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 经过数组存储回调栈模拟异步&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_thens&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    resolve&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_complete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;resolve&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    reject&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_complete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;reject&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _complete&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 将异步的then改为同步执行&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;then &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;resolve&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        	&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 防止多次调用resolve和reject&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resolve &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;reject&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Compeleted!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; aThen&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;aThen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_thens&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; aThen&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; aThen&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_thens&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[网站性能优化总结]]></title><description><![CDATA[与性能相关的事情不应该拖到项目的最后来做，要在项目的设计之初就开始考虑，这样才可以使性能的各种隐形需求完美地整合到项目中，随着项目一起推进 前端是庞大的，包括 HTML、CSS、 Javascript、Image 和 Font…]]></description><link>https://silentmaker.github.io/blog/网站性能优化总结/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/网站性能优化总结/</guid><pubDate>Sun, 16 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;与性能相关的事情不应该拖到项目的最后来做，要在项目的设计之初就开始考虑，这样才可以使性能的各种隐形需求完美地整合到项目中，随着项目一起推进&lt;/p&gt;
&lt;p&gt;前端是庞大的，包括 HTML、CSS、 Javascript、Image 和 Font等等各种各样的资源，所以前端优化是复杂的，针对不同资源有不同的方式&lt;/p&gt;
&lt;p&gt;从用户角度而言，优化的目的是让页面加载得更快和对用户的操作响应得更及时，从而给用户更友好的体验&lt;/p&gt;
&lt;p&gt;从开发者角度而言，优化能够减少页面请求数，或者减小请求带宽，从而节省可观的资源&lt;/p&gt;
&lt;p&gt;前端优化按粒度大致可以分为三类：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;页面级别的优化，比如 HTTP请求数、脚本的无阻塞加载、内联脚本的位置优化等&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;服务器端优化，比如添加Expires或Cache-Control报文头等&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;代码优化，比如DOM操作优化、图片优化以及HTML结构优化等等&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;页面级别优化&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;减少 HTTP请求数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;1）合并文件&lt;/strong&gt; &lt;/p&gt;
&lt;p&gt;很多浏览器都有最大并发请求数限制，可能通过将多个脚本文件全并为一个文件，将多个样式表文件合并为一个文件，以此来减少文件的下载次数，&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2）雪碧图&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;通过把多个图片拼成一副图片，然后通过CSS来控制在具体显示，加载速度就会提到提高很多&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3）将外部脚本置底&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;外链脚本在加载时却会阻塞其他资源，如果将脚本放在靠前的位置，会影响整个页面的加载速度从而影响用户体验。解决这一问题的方法有很多，而最简单可依赖的方法就是将脚本尽可能地往后挪，减少对并发下载的影响&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4）异步执行Inline脚本&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;与外部脚本一样，inline脚本在执行的时候一样会阻塞并发请求，除此之外，由于浏览器在页面处理方面是单线程的，若inline脚本在页面渲染之前执行时，页面的渲染工作则会被推迟，因此建议将执行时间较长的inline脚本异步执行，异步的方式有很多种，例如，使用 script元素的defer 属性(存在兼容性问题)、使用setTimeout、或者 Web Workers来解决此类问题&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;(Lazy Load)异步加载 Javascript&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;越来越多的站点使用了流行的 Javascript框架，不过一个框架往往包括了很多的功能实现，这些功能并不是每一个页面都需要的，如果下载了不需要的脚本既浪费了带宽又浪费了执行花费的时间。目前的做法大概有两种，一种是为那些流量特别大的页面专门定制专用的mini版框架，另一种则是 Lazy Load，最初只加载核心模块，其他模块可以等到需要使用的时候才加载&lt;/p&gt;
&lt;p&gt; &lt;strong&gt;将 CSS放在 HEAD中&lt;/strong&gt; &lt;/p&gt;
&lt;p&gt;如果将 CSS放在其他地方，浏览器有可能还未下载和解析到 CSS就已经开始渲染页面了，这就导致页面由无 CSS状态跳转到 CSS状态，用户体验比较糟糕，除此之外，有些浏览器会在 CSS下载完成后才开始渲染页面，如果 CSS放在靠下的位置则会导致浏览器将渲染时间推迟&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;异步请求 Callback&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在某些页面中可能存在这样一种需求，需要使用 script标签来异步的请求数据，但对页面的性能也是有影响的，即增加了页面首次加载的负担，推迟了 DOMLoaded和window.onload 事件的触发时机。如果时效性允许的话，可以考虑在 DOMLoaded事件触发的时候加载&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;减少不必要的 HTTP跳转&lt;/strong&gt; &lt;/p&gt;
&lt;p&gt;对于以目录形式访问的 HTTP链接，很多人都会忽略链接最后是否带 ’/‘，假如你的服务器对此是区别对待的话，那么需要注意，这其中很可能隐藏了 301跳转，增加了多余请求。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;避免重复的资源请求&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这种情况主要是由于疏忽或页面由多个模块拼接而成，然后每个模块中请求了同样的资源时，会导致资源的重复请求&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;减少cookie传输&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;一方面，cookie包含在每次请求和响应中，太大的cookie会严重影响数据传输，因此哪些数据需要写入cookie需要慎重考虑，尽量减少cookie中传输的数据量，另一方面，对于某些静态资源的访问，如CSS、script等，发送cookie没有意义，可以考虑静态资源使用独立域名访问，避免请求静态资源时发送cookie，减少cookie传输次数&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;减少iframe数量&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;使用iframe要注意理解iframe的优缺点，优点包括有，用来加载速度较慢的内容，例如广告；安全沙箱保护，浏览器会对iframe中的内容进行安全控制；脚本可以并行下载&lt;/p&gt;
&lt;p&gt;而缺点则是：即使iframe内容为空也消耗加载时间，以及会阻止页面加载。&lt;/p&gt;
&lt;h5&gt;服务器端优化&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;使用CDN&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;优化的黄金定律是，减少网页内容的下载时间，因此可以通过CDN(内容分发网络)来提高下载速度，如果网站上有大量的静态内容，且世界各地的用户都在访问，那CDN是必不可少的&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;添加Expires 或Cache-Control报文头&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;对于静态内容添加Expires，将静态内容设为很长时间以后过期，而对于动态内容可以应用合适的Cache-Control，让浏览器根据条件来发送请求&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gzip压缩传输文件&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Gzip通常可以减少70%的文本内容的大小，包括脚本、样式表等文件，对图片的优化效果可能有时不明显，Gzip比deflate更高效，并且主流服务器都有相应的压缩支持模块，值得注意的是pdf文件本身已经压缩，gzip对其效果不大，而且会浪费CPU&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;配置ETags&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Etag简单来说是通过一个文件版本标识使得服务器可以轻松判断该请求的内容是否有所更新，如果没有就回复304 (not modified)，从而避免下载整个文件&lt;/p&gt;</content:encoded></item><item><title><![CDATA[React-Native入门]]></title><description><![CDATA[脚手架工具： 组件案例： prop和state的使用方法和React一致，所有的样式都通过style注入，只把应用作为一个整体注册一次，而不是每个组件/模块都注册 另外，React Native中的尺寸都是无单位的，表示的是与设备像素密度无关的逻辑像素点 常用的View…]]></description><link>https://silentmaker.github.io/blog/React-Native入门笔记/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/React-Native入门笔记/</guid><pubDate>Mon, 26 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;ul&gt;
&lt;li&gt;脚手架工具：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -g create-react-native-app
create-react-native-app MyProject
&lt;span class=&quot;token function&quot;&gt;cd&lt;/span&gt; MyProject &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; start&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;组件案例：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Component &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; AppRegistry&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Text&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; View &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-native&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Blink&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; showText&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 每1000毫秒对showText状态做一次取反操作&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;previousState &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; showText&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;previousState&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;showText &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 根据当前showText的值决定是否显示text内容&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; display &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;showText &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Text&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;display&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Text&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BlinkApp&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;View&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Blink text&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;I love to blink&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Blink text&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Yes blinking is so great&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Blink text&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Why did they ever take this out of HTML&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Blink text&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Look at me look at me look at me&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;View&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

AppRegistry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;BlinkApp&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; BlinkApp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;prop和state的使用方法和React一致，所有的样式都通过style注入，只把应用作为一个整体注册一次，而不是每个组件/模块都注册&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Component &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; AppRegistry&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; StyleSheet&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Text&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; View &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-native&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LotsOfStyles&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;View&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Text style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;red&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;just red&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Text&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Text style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bigblue&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;just bigblue&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Text&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Text style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bigblue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; styles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;red&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;bigblue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; then red&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Text&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Text style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;red&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; styles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bigblue&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;red&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; then bigblue&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Text&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;View&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; styles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; StyleSheet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  bigblue&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;blue&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    fontWeight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bold&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    fontSize&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  red&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

AppRegistry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;LotsOfStyles&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; LotsOfStyles&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;另外，React Native中的尺寸都是无单位的，表示的是与设备像素密度无关的逻辑像素点&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;常用的View组件和List组件：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;View, ScrollView, ListView &lt;/p&gt;
&lt;p&gt;FlatList (并不立即渲染所有元素，而是优先渲染屏幕上可见的元素) ，SectionList (渲染按逻辑分段的数据集合)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;网络请求&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RN使用Fetch API或者standard XMLHttpRequest API ( 安全机制与网页环境有所不同：在应用中可以访问任何网站，没有跨域的限制) &lt;/p&gt;
&lt;p&gt;RN也支持 websocket &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;导航组件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一般可以用成熟的三方库来做，比如 react-navigation：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;yarn add react-navigation&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  StackNavigator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-navigation&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; App &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StackNavigator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Main&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;screen&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MainScreen&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Profile&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;screen&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ProfileScreen&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;状态管理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;和React一样可以 Redux 等成熟的框架&lt;/p&gt;</content:encoded></item><item><title><![CDATA[小程序基本原理]]></title><description><![CDATA[运行环境 在iOS上，小程序的javascript代码是运行在 JavaScriptCore 中 在Android上，小程序的javascript代码是通过X5内核来解析 在 开发工具上， 小程序的javascript代码是运行于 nwjs（原node-webkit） nw.js…]]></description><link>https://silentmaker.github.io/blog/小程序基本原理/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/小程序基本原理/</guid><pubDate>Mon, 01 May 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;运行环境&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在iOS上，小程序的javascript代码是运行在 JavaScriptCore 中&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在Android上，小程序的javascript代码是通过X5内核来解析&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在 开发工具上， 小程序的javascript代码是运行于 nwjs（原node-webkit）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;nw.js 与 Electron 类似，两者都同时提供了 Broswer 和 Node.js 的 runtime 环境，使得开发者即可以编写和操作DOM，同时可以借助 Node.js 来访问操作系统原生API的能力&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;通信原理&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;小程序的 UI 经由 WKWebView 来渲染，API调用通过 JSBridge 将逻辑结果传递到 webview 做渲染，可以类似地参考 React-Native的实现原理：&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/rn-communication-2bcb54a9db3431b5b644bada6c8c444a-eae6d.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.12384473197782%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAClElEQVQ4yz2TWW8TMRDH8/2/ABIPvPHAA4cEElAKBSEQFUnpTZK2adPm7GZP7+H1rvfH2GmxNPJ47Ln+/3GvqDSlbkhVgSoqr5faYOqaohCbUqRpSp7n1LXxd+6de59kOUVVex+ta7mv6RXhHJsuWF4es7kdYrMlJl35AEmScH8fsFgsiKKIIs/82/huyPziiJvzPlV4R5fOKbIILQl7ZvQeTp/D6LXIGzgR/fIDKi9oG8PjMqYhT0K64Vv4+xLGr0Tk/Uj0g2cUyyF129GLVUkQK7KiJsk1m0ShKmkrS+VcE1UQlR1hVpJnCdz+wCzPmMYdi8Rwl1iWQUwah5JUKvw+0excdny7gc+Tzuv7t4KVijmc1excwacJ9G8EryQQ5QnZyTt2r+HXtGH3qmO8UJR5usVQa40Tay1t2wgRud8dEWVZir2Vc0suRETBUuB5QTLc4+OF5ed1zYdxw3UgZKrUk9brGg1OaD1WztkFCsPQM+yyuoRppnzArv8UM/7InYKZ4DFLO7Kq9RD5CkcrLa1pLoKWRoJtK209yw6Tx+WyF1lMdy7kTb/Cqo+d7MF64MlzHXkMD2cVhyshd2X9LLnq3Pw5qeRspPBaJC8rbzOt9XPoRioIAg+PC+QC+gqx1UMN3f9qlJvBaMOp9PVFwP8ipBxMC6Jwwx8h6tet5fcCvk0azoUnbEPyWOForRmFMIkEymbbssuUJREXq5L9OezPhIt5hUpjrjYtx2t5H1pGQcfpPWyUecBQAg6mOf1Zy9HcCG6FtOy+27bC8TxlMG8ZzBrOZvIF4w2jZSk2y+W64u+y8veOnLJQ8lOk5UbLaJiKtq54HCEnTSPY1LLXpRcj9+63NLJbbxMf8bNG7vTW13X2DzAm2k13RUX+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;react native theory&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/rn-communication-2bcb54a9db3431b5b644bada6c8c444a-fb8a0.png&quot;
        srcset=&quot;/blog/static/rn-communication-2bcb54a9db3431b5b644bada6c8c444a-1a291.png 148w,
/blog/static/rn-communication-2bcb54a9db3431b5b644bada6c8c444a-2bc4a.png 295w,
/blog/static/rn-communication-2bcb54a9db3431b5b644bada6c8c444a-fb8a0.png 590w,
/blog/static/rn-communication-2bcb54a9db3431b5b644bada6c8c444a-526de.png 885w,
/blog/static/rn-communication-2bcb54a9db3431b5b644bada6c8c444a-eae6d.png 1082w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;文件结构&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;App由app.js、app.json、app.wxss 组成&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Page由page.js、page.json、page.wxss 和 page.wxml 组成&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;生命周期&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;App&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;钩子&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;时间点&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;onLaunch&lt;/td&gt;
&lt;td&gt;小程序初始化&lt;/td&gt;
&lt;td&gt;当初始化完成时调用，全局只触发一次&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;onShow&lt;/td&gt;
&lt;td&gt;小程序显示&lt;/td&gt;
&lt;td&gt;启动或从后台进入前台展示时触发&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;onHide&lt;/td&gt;
&lt;td&gt;小程序隐藏&lt;/td&gt;
&lt;td&gt;从前台进入后台时触发&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Page&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;钩子&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;th&gt;时间点&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;onLoad&lt;/td&gt;
&lt;td&gt;页面加载&lt;/td&gt;
&lt;td&gt;一个页面只调用一次&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;onShow&lt;/td&gt;
&lt;td&gt;页面显示&lt;/td&gt;
&lt;td&gt;每次打开页面都会触发&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;onReady&lt;/td&gt;
&lt;td&gt;页面初次渲染完成&lt;/td&gt;
&lt;td&gt;一个页面只调用一次，且表示页面已可交互，可进行页面设置，如 
&lt;em&gt;wx.setNavigationBarTitle&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;onHide&lt;/td&gt;
&lt;td&gt;页面隐藏&lt;/td&gt;
&lt;td&gt;当 
&lt;em&gt;wx.navigateTo&lt;/em&gt;
 或底部Tab切换时触发&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;onUnload&lt;/td&gt;
&lt;td&gt;页面卸载&lt;/td&gt;
&lt;td&gt;当 
&lt;em&gt;wx.redirectTo&lt;/em&gt;
 或 
&lt;em&gt;wx.navigateBack&lt;/em&gt;
 时触发&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;两类线程&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;界面线程（View Thread） - 负责界面渲染&lt;/li&gt;
&lt;li&gt;服务线程（Appservice Thread） - 负责数据，服务处理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/mp-thread-2c5245e41bb67471703f6aa7f167abf0-bb6bf.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 153.17220543806647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAIAAABoLHqZAAAACXBIWXMAAAsSAAALEgHS3X78AAAFXUlEQVQ4y21VWWwTVxQdVUKitOpH099KVO0PRS20bBUVP7TQfiKKKgFtpaoCGiEEH1CEI6BpCyJOSJwVW4Gw2glNgISYxtkTIA1kaRw7IQQnthMvcezx7PNmH/eOnRjS5uloNPNmzrvvnnvuG4xhmLGxsUgkkkoPPT2y93ANhUJer5dl2exMdmAcw7947vNP+QVeUGQlTVoChmb9U4HQTBjxgiRKmqoBMq8wjkYMxVJJmqX5ucjctG86Go5mXwMEFrEkyxA0z/AzwRn4IDYXWyAzHBGZmwmF/SST4HkegquKurCt9BchkvbOREYDIV8MJylaEgSaoiRRhBywcNIzNtvtDXYFEsOyLKmKBnye43VNB8AKnYG5qscea5/37sQsi1BKlRFN8BSuSAL2LNjZ+tTWNlg9Mu2EQBAWmHgcZygG8Ujkeceo72yPO7/Xc9nt59JkjkwgOqkpAhaIDYxMOd3+vyZmH9I0BRyKoBiaoUhKkmSIfMXjP9LtPdrjLRry0Swri0CMI5pSFRHjeZwVcAYlODEZCYcnJyaDgSAkDzQtve2a0elDzf25D56Y/36GYD1JEmU5UzPMPd3cNVjTM3h1aPIOSeGiIMoS5C6D4JmiGuSmR7nOPnOfV01PZWuNtbnL6nrz6npMriEzKAVTIBiRJCBzJS37ZU/g547Rw50e86BP0bUl5O4xm3P4gnO4oMNdJst8+p2eMROQFVFqHPeXPpkofzphH51meF4UBIamFcWQA+vyWu8Pnge0j5RmIhv56Avrw/0sg14QyEciPyUoUD4Jsck4m0woIsKc/ZZb7SZ7R55rqFhWkBE3S06jzReu9wbvjgcbxwMkzymyyHOsIom6pmLdXqtz4DygfcSyEDm1RJV9t1o3W+q2VdZvv3QnQtIpiJ1Vu3e8umW4ENA5WiFBznoKfAKayTLkZeA7R/u6otpNJX9+ZWtKcOhlb4G37z85V9Ny4Krr0O3ukwxLyKKSiCeikSj0ENgTSg3kjwtrNxXf3mltjP+HXNOSe6J84y/lm8sb9iqqAJPgSo7lVFWFUoPg+24++DDf9mnBtZ22BbK22PNYw6PTFU17K5v232w/JkqcpurgTWg6HMdh/9An+x0tay/e2FBiz0bOuAf42O0eU4F9l9m++0pLLmzbaGAkZI0Nj/trXWuLb2ywOCDnCMlAS/IIkSTFMqyRc7XzQLXzYP1Dk1GqxZT0xVJlyBstji8v3ZsMRWiSTOA4HF6yLGO9YzbXcKHrH0PtBYel6/x/8g7rvSgNJ5nKkoTIMilNgTpXOQfOAQyHyWg5MuR8HXIG8jwLq6sCx8qIUxUJ6/ZUNQ+cazbIliWRF02yp/TaulMXt5y1fP5r2VQ4ypAU1JIgwGw89nC8unWkCACrADmjNoGnuyptkl1m6+qDpjVHzmwxFb4IhDiawRM4HKmKomCNffmX7v9obf7J0XWCZUlN0aEf52PzcMoa8TV9d5Ht3QMnPzh8+rO8ohhBQ8vSeFygCV2VsPpek9mx2+zYc73tiLScYN+U1Lx/7Pc1x89vPWOJJqmUpiKWlRDsSwS1rS3DFwCdRj8vI9j39tatpXXbqxp2WO9ECErg+VhsXkCiIqtYh7uiqf83gGvo4vKlsrd+VHBrY3HtF5UNgbm4iBBBENA3hj37fdXtnoI2T8Hj55UvTfIK+YeG3vWldzdXNH1d02LYUxHpxDyXTEC1MPuDP6rqjlbWHr3WmCeInEHWXiXr35bdXHOicN2pkm35lbPzxgFCUaQkIU2TsdWr33t95aqVK1blvJ2DJxIvyYvXT9avX4G99tYbb76TkxMJGT9T40+WHv8CDkweH9UsGoUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;mini program threads&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/mp-thread-2c5245e41bb67471703f6aa7f167abf0-fb8a0.png&quot;
        srcset=&quot;/blog/static/mp-thread-2c5245e41bb67471703f6aa7f167abf0-1a291.png 148w,
/blog/static/mp-thread-2c5245e41bb67471703f6aa7f167abf0-2bc4a.png 295w,
/blog/static/mp-thread-2c5245e41bb67471703f6aa7f167abf0-fb8a0.png 590w,
/blog/static/mp-thread-2c5245e41bb67471703f6aa7f167abf0-bb6bf.png 662w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;界面线程的四类状态&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;初始化状态：初始化界面线程所需要的工作，包括工作机制，基本和我们开发者没有关系，等初始化完毕就向 “服务线程”发送初始化完毕信号，然后进入等待传回初始化数据状态。&lt;/li&gt;
&lt;li&gt;首次渲染状态：收到“服务线程”发来的初始化数据后（就是 json和js中的data数据），就开始渲染小程序界面，渲染完毕后，发送“首次渲染完毕信号”给服务线程，并将页面展示给用户。&lt;/li&gt;
&lt;li&gt;持续渲染状态：此时界面线程继续一直等待“服务线程”通过this.setdata()函数发送来的界面数据，只要收到就重新局部渲染，也因此只要更新数据并发送信号，界面就自动更新。&lt;/li&gt;
&lt;li&gt;结束状态&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;服务线程五状态&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;初始化状态：无需和其他模块交流，跟小程序开发也没多大关联，此阶段就是启动服务线程所需的基本功能，比如信号发送模块。系统的初始化工作完毕，就调用自定义的onload和onshow，然后等待界面线程的“界面线程初始化完成”信号。onload是只会首次渲染的时候执行一次，onshow是每次界面切换都会执行&lt;/li&gt;
&lt;li&gt;等待激活状态：接收到“界面线程初始化完成”信号后，将初始化数据发送给“界面线程”，等待界面线程完成初次渲染&lt;/li&gt;
&lt;li&gt;激活状态：收到界面线程发送来的“首次渲染完成”信号后，就进入激活状态既程序的正常运行状态，并调用自定义的onReady()函数。此状态下就可以通过 this.setData 函数发送界面数据给界面线程进行局部渲染，更新页面&lt;/li&gt;
&lt;li&gt;后台运行状态：如果界面进入后台，服务线程就进入后台运行状态，从目前的官方解读来说，这个状态挺奇怪的，和激活状态是相同的，也可以通过setdata函数更新界面的&lt;/li&gt;
&lt;li&gt;结束状态：页面被回收或者销毁、应用被系统回收、销毁时触发&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;更新&lt;/h3&gt;
&lt;p&gt;小程序冷启动时如果发现有新版本，将会异步下载新版本的代码包，并同时用客户端本地的包进行启动，即新版本的小程序需要等下一次冷启动才会应用上&lt;/p&gt;</content:encoded></item><item><title><![CDATA[内存管理与垃圾回收]]></title><description><![CDATA[在C之类的语言中，开发者必须手动地调用和释放内存，也就是手动地调用malloc()、calloc()、realloc() 和 free() 等方法，而在 Java或者Javascript…]]></description><link>https://silentmaker.github.io/blog/内存管理与垃圾回收/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/内存管理与垃圾回收/</guid><pubDate>Sat, 29 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;在C之类的语言中，开发者必须手动地调用和释放内存，也就是手动地调用malloc()、calloc()、realloc() 和 free() 等方法，而在 Java或者Javascript的高级语言中，不管对象还是字符串，内存都是在创建的时候自动分配内存，在不用了的时候自动释放掉，这个过程就是垃圾回收&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;内存生命周期&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;在所有编程语言中，内存管理的生命周期基本都是：分配，读写和释放，只是在高级语言中，我们大多时候只需要去读写部分的逻辑，但自动处理不代表不会出问题，代码的质量有问题的话，很容易导致内容泄露，也就是不用的内存一般没有被释放，如果加上循环等情况，非常容易导致浏览器内存爆满失去响应，所以注意内存管理是很重要的&lt;/p&gt;
&lt;p&gt;内存管理中最麻烦的就是定位应该被释放的内存，在javascript中，一般是通过&lt;strong&gt;garbage collector&lt;/strong&gt;来完成&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;引用计数法&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;最基础的垃圾回收算法是通过把没有被引用的内存做为应该释放的内容来处理&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; o &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
o &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 不再有引用指向a，所以a被释放&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;可以看出，手动释放内存的常用方法是重新赋值，比如把对象赋值为null&lt;/p&gt;
&lt;p&gt;但引用计数法无法应对闭包内的循环引用的情况：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; o &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; oo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    o&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    oo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; o&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// o和oo都永远不会被释放，形成了内容泄露&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;true&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;标记清除法&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;使用这类算法的垃圾回收器会在目标内存不可触达时去掉&lt;/p&gt;
&lt;p&gt;算法会首先找到所有全局对象，然后迭代遍历查找有全局引用的变量，从而区分出可触达和不可触达的变量，所有不可触达的对象都会被释放&lt;/p&gt;
&lt;p&gt;相比之下，这类算法更加优秀，同时也解决了循环引用的问题，目前大部分的浏览器中都是采用这类算法&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Javascript忍者禁术笔记-Object]]></title><description><![CDATA[原型]]></description><link>https://silentmaker.github.io/blog/Javascript忍者禁术笔记-Runtime/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/Javascript忍者禁术笔记-Runtime/</guid><pubDate>Sat, 15 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h5&gt;原型&lt;/h5&gt;</content:encoded></item><item><title><![CDATA[Javascript忍者禁术笔记-Function]]></title><description><![CDATA[函数的特性 函数可以看作一种特殊的对象，可以赋值给变量，也可以作为同步或者异步的回调，同时也可以具有属性，可以记录执行的结果 创建函数的方法有很多，function声明、箭头函数、Function构造器、generator函数，函数可以作为其他函数的返回 创建函数 IIFE…]]></description><link>https://silentmaker.github.io/blog/Javascript忍者禁术笔记-Object/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/Javascript忍者禁术笔记-Object/</guid><pubDate>Thu, 13 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h5&gt;函数的特性&lt;/h5&gt;
&lt;p&gt;函数可以看作一种特殊的对象，可以赋值给变量，也可以作为同步或者异步的回调，同时也可以具有属性，可以记录执行的结果&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isPrime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isPrime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;answers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; isPrime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;answers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isPrime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;answers&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; isPrime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;answers&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; prime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1不是素数&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            prime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; isPrime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;answers&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; prime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 存储计算结果&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;创建函数的方法有很多，function声明、箭头函数、Function构造器、generator函数，函数可以作为其他函数的返回&lt;/p&gt;
&lt;h5&gt;创建函数&lt;/h5&gt;
&lt;p&gt;IIFE(Immediately Invoked Function Expression)，函数声明可以在创建后立即执行，形成匿名作用域&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;(function(val){})(value);&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;可以使用参数默认值，也可以使用解构符代表不定参数&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;multiMax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;remain&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; sorted &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; remain&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; first &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; sorted&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[Javascript忍者禁术笔记-Runtime]]></title><description><![CDATA[运行机制 javascript是解释型语言，采用JIT(Just In Time)机制，运行用机器码并不是提前生成的(AOT, Ahead Of Time)，这是与C等编译型语言的主要不同之一，javascript…]]></description><link>https://silentmaker.github.io/blog/Javascript忍者禁术笔记-Function/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/Javascript忍者禁术笔记-Function/</guid><pubDate>Mon, 10 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h5&gt;运行机制&lt;/h5&gt;
&lt;p&gt;javascript是解释型语言，采用JIT(Just In Time)机制，运行用机器码并不是提前生成的(AOT, Ahead Of Time)，这是与C等编译型语言的主要不同之一，javascript还具有很多独特的语言特性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;函数作为一等公民&lt;/li&gt;
&lt;li&gt;函数闭包&lt;/li&gt;
&lt;li&gt;基于原型的面向对象&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;运行环境&lt;/h5&gt;
&lt;p&gt;在客户端和服务端的运行环境有所不同&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/Users/maxingcong/Code/blog/src/pages/images/runtime-difference.png&quot; alt=&quot;Runtime&quot;&gt;&lt;/p&gt;
&lt;h5&gt;Web应用的生命周期&lt;/h5&gt;
&lt;p&gt;&lt;img src=&quot;/Users/maxingcong/Code/blog/src/pages/images/webapp-lifecycle.png&quot; alt=&quot;Life Cycle&quot;&gt;&lt;/p&gt;
&lt;p&gt;基本分成两步：Page Building 阶段和 Event Handling 阶段&lt;/p&gt;
&lt;h5&gt;Page Building 阶段&lt;/h5&gt;
&lt;p&gt;在 Page Building 阶段主要做两件事： &lt;/p&gt;
&lt;p&gt;1 解析HTML并构建DOM &lt;/p&gt;
&lt;p&gt;2 遇到script标签时，运行 Javascript 代码 &lt;/p&gt;
&lt;p&gt;浏览器在有需要的情况下会不停在1和2间切换&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/Users/maxingcong/Code/blog/src/pages/images/dom-endurance.png&quot; alt=&quot;DOM Building&quot;&gt;&lt;/p&gt;
&lt;p&gt;同时，浏览器会自动容错，构建可用的DOM&lt;/p&gt;
&lt;h5&gt;Event handling阶段&lt;/h5&gt;
&lt;p&gt;&lt;img src=&quot;/Users/maxingcong/Code/blog/src/pages/images/event-handling.png&quot; alt=&quot;Event Handling&quot;&gt;&lt;/p&gt;
&lt;p&gt;这个阶段有很多种事件可能会被触发：浏览器事件(如load)，网络事件(如ajax)，用户事件(如click)，定时器事件(如setTimeout)等，用户和服务器生成的事件通常放在同个队列里依次执行，绑定事件的方法一般是对特殊属性(如onload)赋值或者使用addEventListener方法&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JS的模块系统]]></title><description><![CDATA[CommonJS模式 CommonJS是Node的主要模块机制，从设计的出发点就是考虑了服务端开发，关键字只有require和module.exports，exports是一个特殊属性，所有对它的赋值都会被export…]]></description><link>https://silentmaker.github.io/blog/JS的模块系统/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/JS的模块系统/</guid><pubDate>Thu, 19 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h5&gt;CommonJS模式&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;moduleA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;CommonJS是Node的主要模块机制，从设计的出发点就是考虑了服务端开发，关键字只有require和module.exports，exports是一个特殊属性，所有对它的赋值都会被export出去&lt;/p&gt;
&lt;p&gt;其优点在于简单，模块可以按需按序加载，同时也支持循环依赖&lt;/p&gt;
&lt;p&gt;而其缺点在于，同步的API设计使其不适合客户端的很多异步场景，在浏览器里使用需要loader或者转译，模块只能是一个文件，不适用于静态代码分析器&lt;/p&gt;
&lt;h5&gt;AMD模式&lt;/h5&gt;
&lt;p&gt;Asynchronous Module Definition，比如require.js和Dojo.js，不互相依赖的模块可以同时加载，加载速度更快&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dep1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dep2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 	&lt;span class=&quot;token comment&quot;&gt;// 通过函数的返回来定义模块&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 或者&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;require&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; dep1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dep1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; dep2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dep2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;这个机制的优点主要是异步加载，兼容CommonJS，并且支持多文件模块，缺点主要是语法上复杂一点，使用时需要loader或者转译，同样不适用于静态代码分析器&lt;/p&gt;
&lt;h5&gt;CMD模式&lt;/h5&gt;
&lt;p&gt;CMD是另一种模块化方案，它与AMD很类似，不同点在于 AMD 推崇依赖前置、提前执行，CMD推崇依赖就近、延迟执行&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// AMD&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;a&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;b&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;c&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doSth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 即使调用永远不会执行，b模块还是执行了&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// CMD&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;require&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; exports&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; module&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;a&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doSth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    	&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;b&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doSth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Sea.js 定义模块 math.js&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;require&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; exports&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; module&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; $ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;jquery.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; add&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Sea.js 引用模块&lt;/span&gt;
seajs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;math.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;math&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; sum &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;ES2015 Module&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// lib.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sqrt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sqrt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;square&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// main.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; sqrt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; square &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;lib.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lib.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;module &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;squqre&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;ES2015是规范化的模块方案，语法简单且合理，支持静态代码分析工具，同时支持同步和异步加载，也支持循环引用 ，缺点主要是还没有被普遍支持&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;与CommonJS的区别：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ES2015输出的是动态引用 ，且不会缓存值，被加载时才去模块里取值，而CommonJS输出的是值的拷贝，原模块的变更不会影响之后的执行；&lt;/li&gt;
&lt;li&gt;CommonJS是运行时加载，最后加载的是整个模块对象，即module.exports，只有在脚本运行完时才会生成，而ES6模块不是对象，只是静态定义，属于编译时加载，在代码静态解析阶段就会完成；&lt;/li&gt;
&lt;li&gt;如果出现循环引用，对于CommonJS，一旦出现某个模块被”循环加载”，就只输出已经执行的部分，还未执行的部分不会输出；而ES6模块根本不会关心是否发生了”循环加载”，只是生成一个指向被加载模块的引用，需要开发者自己保证，真正取值的时候能够取到值&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// a.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; bar &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;b.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// b.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; foo &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;a.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;按照CommonJS的标准，a先加载b，然后b又加载a，这时a还没有任何执行结果，所以输出结果为null，即对于b.js来说，变量foo的值等于null，后面的foo()就会报错&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Npm冷知识]]></title><description><![CDATA[用scope避免命名冲突 创建可复用的npm init devDependencies的用外 npm脚本 版本管理 发布管理 安全检查]]></description><link>https://silentmaker.github.io/blog/Npm冷知识/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/Npm冷知识/</guid><pubDate>Fri, 13 Jan 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h5&gt;用scope避免命名冲突&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; init --scope&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;myname
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; @myname/mypackage
require&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;@myname/mypackage&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;创建可复用的npm init&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ~/.npm-init.js&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    version&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;0.1.0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    main&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;index.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    scripts&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        start&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node index.js&apos;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# ~/.npm-init.js里export的部分会插入或者合并到package.json&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; init&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;devDependencies的用外&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 可以节约正式环境的安装依赖的时间&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --production&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;npm脚本&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;script&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;mocha ./test/*.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node ./index.js&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run start
&lt;span class=&quot;token comment&quot;&gt;# 等同于yarn start&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;版本管理&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 语义化版本号&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; version major - m &lt;span class=&quot;token string&quot;&gt;&quot;bump to version %s&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; version minor
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; version patch&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;发布管理&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 旧方法&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; owner
&lt;span class=&quot;token comment&quot;&gt;# 推荐方法&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; team
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; access
&lt;span class=&quot;token comment&quot;&gt;# 24个小时后的取消发布会受限&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 取消发布上个版本&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; unpublish
&lt;span class=&quot;token comment&quot;&gt;# 取消发布某个版本&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; unpublish &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;package&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;@&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;version&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 婉转点的取消发布方法是弃用&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; deprecate&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;安全检查&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Node Security Project&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; nsp -g
nsp check&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[JS里的严格模式]]></title><description><![CDATA[变量未定义会报错 删除一个变量/函数/函数参数的时候会报错 重复定义对象属性/函数参数会报错 使用八进制字面量和转义符会报错 删除只读属性会报错，非strict模式下会静默失败 赋值只有getter的属性会报错，非strict…]]></description><link>https://silentmaker.github.io/blog/JS里的严格模式/</link><guid isPermaLink="false">https://silentmaker.github.io/blog/JS里的严格模式/</guid><pubDate>Sat, 19 Nov 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;变量未定义会报错&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;删除一个变量/函数/函数参数的时候会报错&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;重复定义对象属性/函数参数会报错&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; p1&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; p1&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; p1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;使用八进制字面量和转义符会报错&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;010&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; \&lt;span class=&quot;token number&quot;&gt;010&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;删除只读属性会报错，非strict模式下会静默失败&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;defineProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;x&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; wirtable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;赋值只有getter的属性会报错，非strict模式下会静默失败&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;删除不可删除的属性也会报错&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;保留字eval和arguments等不可作为变量名&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; eval &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; arguments &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;使用with表达式会报错&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;使用eval创建变量也会报错&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;eval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;var a = 1;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item></channel></rss>