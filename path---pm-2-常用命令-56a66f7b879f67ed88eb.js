webpackJsonp([0xbd3b10dc1232],{458:function(n,s){n.exports={data:{site:{siteMetadata:{title:"Elvin's Blog",author:"Elvin Ma"}},markdownRemark:{id:"/Users/maxingcong/Code/blog/src/pages/PM2常用命令.md absPath of file >>> MarkdownRemark",html:'<p>PM2，Production Process Manager，是一个很好用的进程管理器，有很多优秀的特性，比如平滑的服务重启、直观的进程管理和日志监控、零配置负载均衡和友好的多服务器部署</p>\n<p>以下是PM2的一些常用命令</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">pm2 start app.js\n<span class="token comment"># 启动app.js应用程序</span>\n\npm2 start app.js -i 4\n<span class="token comment"># cluster mode 模式启动4个app.js的应用实例</span>\n<span class="token comment"># 4个实例会自动进行负载均衡</span>\n\npm2 start app.js --name<span class="token operator">=</span><span class="token string">"api"</span>\n<span class="token comment"># 启动应用程序并命名为 "api"</span>\n\npm2 start app.js --watch\n<span class="token comment"># 当文件变化时自动重启应用</span>\n\npm2 start script.sh\n<span class="token comment"># 启动 bash 脚本</span>\n\npm2 list\n<span class="token comment"># 列表 PM2 启动的所有的应用程序</span>\n\npm2 monit\n<span class="token comment"># 显示每个应用程序的CPU和内存占用情况</span>\n\npm2 show <span class="token punctuation">[</span>app-name<span class="token punctuation">]</span>\n<span class="token comment"># 显示应用程序的所有信息</span>\n\npm2 logs\n<span class="token comment"># 显示所有应用程序的日志</span>\n\npm2 logs <span class="token punctuation">[</span>app-name<span class="token punctuation">]</span>\n<span class="token comment"># 显示指定应用程序的日志</span>\n\npm2 flush\n<span class="token comment"># 清除日志</span>\n\npm2 stop all\n<span class="token comment"># 停止所有的应用程序</span>\n\npm2 stop 0\n<span class="token comment"># 停止 id为 0的指定应用程序</span>\n\npm2 restart all\n<span class="token comment"># 重启所有应用</span>\n\npm2 reload all\n<span class="token comment"># 重启 cluster mode下的所有应用</span>\n\npm2 gracefulReload all\n<span class="token comment"># 平滑重启 cluster mode下的所有应用</span>\n\npm2 delete all\n<span class="token comment"># 关闭并删除所有应用</span>\n\npm2 delete 0\n<span class="token comment"># 删除指定应用 id 0</span>\n\npm2 scale api 10\n<span class="token comment"># 把名为api的应用扩展到10个实例</span>\n\npm2 reset <span class="token punctuation">[</span>app-name<span class="token punctuation">]</span>\n<span class="token comment"># 重置重启数量</span>\n\npm2 startup\n<span class="token comment"># 创建开机自启动命令</span>\n\npm2 save\n<span class="token comment"># 保存当前应用列表</span>\n\npm2 resurrect\n<span class="token comment"># 重新加载保存的应用列表</span>\n\npm2 update\n<span class="token comment"># 保存进程，重启PM2后恢复进程</span>\n\npm2 generate\n<span class="token comment"># 生成示例配置文件</span></code></pre>\n      </div>\n<p><strong>模块扩展</strong>\npm2支持第三方扩展，比如常用的log rotate等。可参考官方文档</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">pm2 module:generate <span class="token punctuation">[</span>name<span class="token punctuation">]</span>\n<span class="token comment"># 生成示例模块</span>\n\npm2 <span class="token function">install</span> pm2-logrotate\n<span class="token comment"># 安装日志轮转模块</span>\n\npm2 uninstall pm2-logrotate\n<span class="token comment"># 卸载模块</span></code></pre>\n      </div>\n<p><strong>编程接口</strong>\n如果想把PM2跟其他自动化流程整合起来，可以参考PM2编程接口的官方文档：<a href="http://pm2.keymetrics.io/docs/usage/pm2-api/">PM2-API</a></p>',frontmatter:{title:"PM2常用命令",tags:["Node"],categories:["编程"],date:"December 26, 2018"}}},pathContext:{slug:"/PM2常用命令/",previous:{fields:{slug:"/常见状态码和使用场景/"},frontmatter:{path:"/common-status-code",title:"常见状态码和使用场景",tags:null,categories:["编程"]}},next:{fields:{slug:"/读人月神话有感/"},frontmatter:{path:"/thoughts-on-the-methical-man-month",title:"读人月神话有感",tags:null,categories:["项目管理"]}}}}}});
//# sourceMappingURL=path---pm-2-常用命令-56a66f7b879f67ed88eb.js.map